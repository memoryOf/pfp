"use strict";(self.webpackChunkpfp_frontend=self.webpackChunkpfp_frontend||[]).push([[7625],{14524:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(58168),c=s(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var r=s(22172),o=function(e,t){return c.createElement(r.A,(0,a.A)({},e,{ref:t,icon:n}))};const l=c.forwardRef(o)},36091:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(58168),c=s(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var r=s(22172),o=function(e,t){return c.createElement(r.A,(0,a.A)({},e,{ref:t,icon:n}))};const l=c.forwardRef(o)},46291:(e,t,s)=>{s.d(t,{$x:()=>c,KS:()=>l,S7:()=>i,Xo:()=>r,vC:()=>n,yL:()=>o});const a=s(16599).A.create({baseURL:"/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:t,data:s}=e.response;throw 401===t&&(localStorage.removeItem("token"),window.location.href="/login"),new Error(s.message||"\u8bf7\u6c42\u5931\u8d25")}throw new Error("\u7f51\u7edc\u9519\u8bef")});const c={getLoadGenerators:e=>a.get("/load-generators/",{params:e}),getLoadGenerator:e=>a.get("/load-generators/".concat(e,"/")),createLoadGenerator:e=>a.post("/load-generators/",e),updateLoadGenerator:(e,t)=>a.put("/load-generators/".concat(e,"/"),t),deleteLoadGenerator:e=>a.delete("/load-generators/".concat(e,"/")),testConnection:e=>a.post("/load-generators/".concat(e,"/test-connection/")),getConfigs:e=>a.get("/load-generators/".concat(e,"/configs/")),createConfig:(e,t)=>a.post("/load-generators/".concat(e,"/configs/"),t),updateConfig:(e,t)=>a.put("/load-generators/configs/".concat(e,"/"),t),deleteConfig:e=>a.delete("/load-generators/configs/".concat(e,"/")),validateConfig:e=>a.post("/load-generators/configs/".concat(e,"/validate/"))},n={getTestTasks:e=>a.get("/test-tasks/",{params:e}),getTestTask:e=>a.get("/test-tasks/".concat(e,"/")),createTestTask:e=>a.post("/test-tasks/",e),updateTestTask:(e,t)=>a.put("/test-tasks/".concat(e,"/"),t),deleteTestTask:e=>a.delete("/test-tasks/".concat(e,"/")),getExecutions:e=>a.get("/test-tasks/".concat(e,"/executions/"))},r={getTestStrategies:e=>a.get("/test-strategies/",{params:e}),getTestStrategy:e=>a.get("/test-strategies/".concat(e,"/")),createTestStrategy:e=>a.post("/test-strategies/",e),updateTestStrategy:(e,t)=>a.put("/test-strategies/".concat(e,"/"),t),deleteTestStrategy:e=>a.delete("/test-strategies/".concat(e,"/"))},o={getTestScenariosByTask:e=>a.get("/test-scenarios/task/".concat(e,"/")),getTestScenario:e=>a.get("/test-scenarios/".concat(e,"/")),createTestScenario:e=>a.post("/test-scenarios/",e),updateTestScenario:(e,t)=>a.put("/test-scenarios/".concat(e,"/"),t),deleteTestScenario:e=>a.delete("/test-scenarios/".concat(e,"/")),getScenarioFiles:e=>a.get("/scenario-files/scenario/".concat(e,"/files/")),uploadScenarioFile:(e,t)=>a.post("/scenario-files/scenario/".concat(e,"/files/"),t,{headers:{"Content-Type":"multipart/form-data"}})},l={getTestExecutions:e=>a.get("/test-executions/",{params:e}),getTestExecution:e=>a.get("/test-executions/".concat(e,"/")),createTestExecution:e=>a.post("/test-executions/",e),updateTestExecution:(e,t)=>a.put("/test-executions/".concat(e,"/"),t),startTestExecution:e=>a.post("/test-executions/".concat(e,"/start/")),stopTestExecution:(e,t)=>a.post("/test-executions/".concat(e,"/stop/"),t),deleteTestExecution:e=>a.delete("/test-executions/".concat(e,"/"))},i={getHeartbeatStatus:()=>a.get("/heartbeat/status"),checkAllHeartbeats:()=>a.post("/heartbeat/check-all"),checkAllHeartbeatsAsync:()=>a.post("/heartbeat/check-all-async"),getTaskStatus:e=>a.get("/heartbeat/task/".concat(e))}},48047:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(58168),c=s(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};var r=s(22172),o=function(e,t){return c.createElement(r.A,(0,a.A)({},e,{ref:t,icon:n}))};const l=c.forwardRef(o)},57625:(e,t,s)=>{s.r(t),s.d(t,{default:()=>z});var a=s(65043),c=s(15492),n=s(89073),r=s(11645),o=s(3427),l=s(15444),i=s(22019),d=s(92782),u=s(60647),g=s(47419),p=s(6051),h=s(26612),x=s(63394),A=s(23927),f=s(61966),T=s(67407),k=s(36091),m=s(77677),y=s(75337),v=s(14524),j=s(48047),S=s(73216),C=s(46291),w=s(70579);const{Title:E}=A.A,z=()=>{const e=(0,S.Zp)(),[t,s]=(0,a.useState)(!1),[A,z]=(0,a.useState)([]),[L,b]=(0,a.useState)([]),[F,M]=(0,a.useState)([]),[H,B]=(0,a.useState)(!1),[I,R]=(0,a.useState)(null),[G]=o.A.useForm();(0,a.useEffect)(()=>{V()},[]);const V=async()=>{s(!0);try{const[e,t,s]=await Promise.all([C.vC.getTestTasks(),C.Xo.getTestStrategies(),C.KS.getTestExecutions()]);z(e),b(t),M(s)}catch(e){i.Ay.error("Failed to load data")}finally{s(!1)}},D=[{title:"Task Name",dataIndex:"name",key:"name",render:(t,s)=>(0,w.jsx)(c.Ay,{type:"link",onClick:()=>e("/test-tasks/".concat(s.id)),children:t})},{title:"Description",dataIndex:"description",key:"description",render:e=>e||"-"},{title:"Created At",dataIndex:"created_at",key:"created_at",render:e=>new Date(e).toLocaleString()},{title:"Actions",key:"action",render:(e,t)=>(0,w.jsxs)(p.A,{children:[(0,w.jsx)(c.Ay,{size:"small",icon:(0,w.jsx)(T.A,{}),onClick:()=>{R(t),G.setFieldsValue(t),B(!0)},children:"Edit"}),(0,w.jsx)(u.A,{title:"Are you sure you want to delete this test task?",onConfirm:()=>(async e=>{try{await C.vC.deleteTestTask(e),i.Ay.success("Test task deleted successfully"),V()}catch(t){i.Ay.error("Failed to delete test task")}})(t.id),children:(0,w.jsx)(c.Ay,{size:"small",danger:!0,icon:(0,w.jsx)(f.A,{}),children:"Delete"})})]})}],_={totalTasks:A.length,totalStrategies:L.length,totalExecutions:F.length,runningExecutions:F.filter(e=>"running"===e.status).length};return(0,w.jsxs)("div",{style:{padding:"24px"},children:[(0,w.jsx)(E,{level:2,children:"Test Management"}),(0,w.jsxs)(g.A,{gutter:16,style:{marginBottom:"24px"},children:[(0,w.jsx)(r.A,{span:6,children:(0,w.jsx)(n.A,{children:(0,w.jsx)(h.A,{title:"Test Tasks",value:_.totalTasks,prefix:(0,w.jsx)(k.A,{}),valueStyle:{color:"#1890ff"}})})}),(0,w.jsx)(r.A,{span:6,children:(0,w.jsx)(n.A,{children:(0,w.jsx)(h.A,{title:"Test Strategies",value:_.totalStrategies,prefix:(0,w.jsx)(v.A,{}),valueStyle:{color:"#52c41a"}})})}),(0,w.jsx)(r.A,{span:6,children:(0,w.jsx)(n.A,{children:(0,w.jsx)(h.A,{title:"Executions",value:_.totalExecutions,prefix:(0,w.jsx)(j.A,{}),valueStyle:{color:"#faad14"}})})}),(0,w.jsx)(r.A,{span:6,children:(0,w.jsx)(n.A,{children:(0,w.jsx)(h.A,{title:"Running",value:_.runningExecutions,prefix:(0,w.jsx)(m.A,{}),valueStyle:{color:"#f5222d"}})})})]}),(0,w.jsxs)(n.A,{children:[(0,w.jsx)("div",{style:{marginBottom:"16px"},children:(0,w.jsx)(c.Ay,{type:"primary",icon:(0,w.jsx)(y.A,{}),onClick:()=>B(!0),children:"Create Test Task"})}),(0,w.jsx)(x.A,{columns:D,dataSource:A,rowKey:"id",loading:t,pagination:{pageSize:10}})]}),(0,w.jsx)(d.A,{title:I?"Edit Test Task":"Create Test Task",open:H,onCancel:()=>{B(!1),G.resetFields(),R(null)},footer:null,width:500,children:(0,w.jsxs)(o.A,{form:G,layout:"vertical",onFinish:async e=>{try{I?(await C.vC.updateTestTask(I.id,e),i.Ay.success("Test task updated successfully")):(await C.vC.createTestTask(e),i.Ay.success("Test task created successfully")),B(!1),G.resetFields(),R(null),V()}catch(t){i.Ay.error(I?"Failed to update test task":"Failed to create test task")}},children:[(0,w.jsx)(o.A.Item,{name:"name",label:"Task Name",rules:[{required:!0,message:"Please enter task name"}],children:(0,w.jsx)(l.A,{placeholder:"Enter task name"})}),(0,w.jsx)(o.A.Item,{name:"description",label:"Task Description",children:(0,w.jsx)(l.A.TextArea,{placeholder:"Enter task description",rows:4})}),(0,w.jsx)(o.A.Item,{children:(0,w.jsxs)(p.A,{children:[(0,w.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:I?"Update":"Create"}),(0,w.jsx)(c.Ay,{onClick:()=>{B(!1),G.resetFields(),R(null)},children:"Cancel"})]})})]})})]})}},77677:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(58168),c=s(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};var r=s(22172),o=function(e,t){return c.createElement(r.A,(0,a.A)({},e,{ref:t,icon:n}))};const l=c.forwardRef(o)}}]);
//# sourceMappingURL=7625.4fb8d59f.chunk.js.map