{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Card,Row,Col,Button,Space,Tag,Table,message,Modal,Form,Input,Select,Upload,Typography,Steps,Collapse,Tooltip,Popconfirm}from'antd';import{ArrowLeftOutlined,PlayCircleOutlined,PauseCircleOutlined,ReloadOutlined,UploadOutlined,EditOutlined,CopyOutlined,DeleteOutlined,FileTextOutlined,SettingOutlined,CloudServerOutlined,InfoCircleOutlined}from'@ant-design/icons';import{testTaskService,testStrategyService,testExecutionService,loadGeneratorService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{Step}=Steps;const{Panel}=Collapse;const TestTaskDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[testTask,setTestTask]=useState(null);const[executions,setExecutions]=useState([]);const[strategies,setStrategies]=useState([]);const[loadGenerators,setLoadGenerators]=useState([]);const[loadGeneratorConfigs,setLoadGeneratorConfigs]=useState([]);const[loading,setLoading]=useState(false);// 场景创建相关状态\nconst[scenarioModalVisible,setScenarioModalVisible]=useState(false);const[executionModalVisible,setExecutionModalVisible]=useState(false);const[editorModalVisible,setEditorModalVisible]=useState(false);const[currentStep,setCurrentStep]=useState(0);const[scenarioForm]=Form.useForm();const[executionForm]=Form.useForm();// 场景配置状态\nconst[selectedStrategy,setSelectedStrategy]=useState(null);const[selectedLoadGenerator,setSelectedLoadGenerator]=useState(null);const[selectedConfig,setSelectedConfig]=useState(null);const[locustFile,setLocustFile]=useState(null);const[editorContent,setEditorContent]=useState('');useEffect(()=>{if(id){fetchTestTask();fetchExecutions();fetchStrategies();fetchLoadGenerators();}},[id]);const fetchTestTask=async()=>{if(!id)return;setLoading(true);try{const data=await testTaskService.getTestTask(parseInt(id));setTestTask(data);}catch(error){message.error('Failed to fetch test task details');}finally{setLoading(false);}};const fetchExecutions=async()=>{if(!id)return;try{const data=await testTaskService.getExecutions(parseInt(id));setExecutions(data);}catch(error){message.error('Failed to fetch execution records');}};const fetchStrategies=async()=>{try{const data=await testStrategyService.getTestStrategies();setStrategies(data);}catch(error){message.error('Failed to fetch strategy list');}};const fetchLoadGenerators=async()=>{try{const data=await loadGeneratorService.getLoadGenerators();setLoadGenerators(data);}catch(error){message.error('Failed to fetch load generator list');}};const loadLoadGeneratorConfigs=async loadGeneratorId=>{try{const configs=await loadGeneratorService.getConfigs(loadGeneratorId);setLoadGeneratorConfigs(configs);}catch(error){message.error('Failed to load load generator configs');}};// 场景创建相关处理函数\nconst handleCreateScenario=()=>{setScenarioModalVisible(true);setCurrentStep(0);};const handleCloneScenario=scenario=>{setScenarioModalVisible(true);setCurrentStep(0);scenarioForm.setFieldsValue(scenario);message.info('Scenario cloned, please modify as needed');};const handleFileUpload=file=>{setLocustFile(file);const reader=new FileReader();reader.onload=e=>{var _e$target;setEditorContent(((_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result)||'');};reader.readAsText(file);return false;// 阻止自动上传\n};const handleEditorSave=()=>{setEditorModalVisible(false);message.success('Script saved successfully');};const handleNextStep=()=>{setCurrentStep(currentStep+1);};const handlePrevStep=()=>{setCurrentStep(currentStep-1);};const handleExecuteScenario=async()=>{if(!selectedStrategy||!selectedLoadGenerator||!selectedConfig){message.error('Please complete all configuration steps');return;}try{const executionData={task_id:parseInt(id),strategy_id:selectedStrategy.id,load_generator_id:selectedLoadGenerator.id,load_generator_config_id:selectedConfig.id,execution_name:\"Execution_\".concat(new Date().toLocaleString())};await testExecutionService.createTestExecution(executionData);message.success('Test execution created successfully');setScenarioModalVisible(false);fetchExecutions();}catch(error){message.error('Failed to create test execution');}};const handleStart=()=>{setExecutionModalVisible(true);};const handleCreateExecution=async values=>{if(!id)return;try{const executionData={task_id:parseInt(id),strategy_id:values.strategy_id,load_generator_id:values.load_generator_id,load_generator_config_id:values.load_generator_config_id,execution_name:values.execution_name||\"Execution_\".concat(new Date().toLocaleString())};await testExecutionService.createTestExecution(executionData);message.success('Test execution created successfully');setExecutionModalVisible(false);fetchExecutions();}catch(error){message.error('Failed to create test execution');}};const getStatusTag=status=>{const statusMap={pending:{color:'default',text:'Pending'},running:{color:'processing',text:'Running'},completed:{color:'success',text:'Completed'},failed:{color:'error',text:'Failed'},cancelled:{color:'warning',text:'Cancelled'}};const config=statusMap[status]||{color:'default',text:status};return/*#__PURE__*/_jsx(Tag,{color:config.color,children:config.text});};const getScenarioTypeTag=scenarioType=>{const typeMap={single:{color:'blue',text:'Single Interface'},multi:{color:'green',text:'Multi Interface'}};const config=typeMap[scenarioType]||{color:'default',text:scenarioType};return/*#__PURE__*/_jsx(Tag,{color:config.color,children:config.text});};const executionColumns=[{title:'Execution Name',dataIndex:'execution_name',key:'execution_name'},{title:'Status',dataIndex:'status',key:'status',render:status=>getStatusTag(status)},{title:'Total Requests',dataIndex:'total_requests',key:'total_requests'},{title:'Failures',dataIndex:'total_failures',key:'total_failures'},{title:'Avg Response Time (ms)',dataIndex:'avg_response_time',key:'avg_response_time',render:time=>time.toFixed(2)},{title:'RPS',dataIndex:'requests_per_second',key:'requests_per_second',render:rps=>rps.toFixed(2)},{title:'Error Rate',dataIndex:'error_rate',key:'error_rate',render:rate=>\"\".concat((rate*100).toFixed(2),\"%\")},{title:'Started At',dataIndex:'started_at',key:'started_at',render:date=>date?new Date(date).toLocaleString():'-'},{title:'Completed At',dataIndex:'completed_at',key:'completed_at',render:date=>date?new Date(date).toLocaleString():'-'},{title:'Actions',key:'action',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[record.status==='pending'&&/*#__PURE__*/_jsx(Button,{size:\"small\",type:\"primary\",icon:/*#__PURE__*/_jsx(PlayCircleOutlined,{}),onClick:()=>{testExecutionService.startTestExecution(record.id).then(()=>{message.success('Execution started');fetchExecutions();}).catch(()=>{message.error('Failed to start execution');});},children:\"Start\"}),record.status==='running'&&/*#__PURE__*/_jsx(Button,{size:\"small\",danger:true,icon:/*#__PURE__*/_jsx(PauseCircleOutlined,{}),onClick:()=>{testExecutionService.stopTestExecution(record.id,{reason:'Manual stop'}).then(()=>{message.success('Execution stopped');fetchExecutions();}).catch(()=>{message.error('Failed to stop execution');});},children:\"Stop\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(ReloadOutlined,{}),onClick:()=>navigate(\"/test-executions/\".concat(record.id)),children:\"View Details\"})]})}];if(!testTask){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}const latestExecution=executions[0];const successRate=latestExecution?(latestExecution.total_requests-latestExecution.total_failures)/latestExecution.total_requests*100:0;// 场景创建步骤内容\nconst renderScenarioSteps=()=>{var _steps$currentStep;const steps=[{title:'Script Upload',content:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:4,children:\"Upload Locust Script\"}),/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Upload,{accept:\".py\",beforeUpload:handleFileUpload,showUploadList:false,children:/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(UploadOutlined,{}),size:\"large\",children:\"Upload Locust File\"})}),locustFile&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Text,{children:[\"Selected file: \",locustFile.name]}),/*#__PURE__*/_jsx(Button,{type:\"link\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>setEditorModalVisible(true),children:\"Edit Script\"})]}),/*#__PURE__*/_jsx(Button,{type:\"dashed\",icon:/*#__PURE__*/_jsx(FileTextOutlined,{}),onClick:()=>setEditorModalVisible(true),style:{width:'100%'},children:\"Create New Script\"})]})]})},{title:'Strategy Configuration',content:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:4,children:\"Select Test Strategy\"}),/*#__PURE__*/_jsx(Row,{gutter:16,children:strategies.map(strategy=>/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{hoverable:true,style:{border:(selectedStrategy===null||selectedStrategy===void 0?void 0:selectedStrategy.id)===strategy.id?'2px solid #1890ff':'1px solid #d9d9d9',cursor:'pointer'},onClick:()=>setSelectedStrategy(strategy),children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(SettingOutlined,{style:{fontSize:24,color:'#1890ff',marginBottom:8}}),/*#__PURE__*/_jsx(Title,{level:5,children:strategy.name}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:strategy.strategy_type}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsxs(Text,{children:[\"Users: \",strategy.user_count]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Text,{children:[\"Spawn Rate: \",strategy.spawn_rate,\"/s\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Text,{children:[\"Run Time: \",strategy.run_time,\"s\"]})]})]})})},strategy.id))})]})},{title:'Load Generator Configuration',content:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:4,children:\"Select Load Generator & Configuration\"}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Title,{level:5,children:\"Load Generators\"}),/*#__PURE__*/_jsx(Space,{direction:\"vertical\",style:{width:'100%'},children:loadGenerators.map(lg=>/*#__PURE__*/_jsx(Card,{size:\"small\",hoverable:true,style:{border:(selectedLoadGenerator===null||selectedLoadGenerator===void 0?void 0:selectedLoadGenerator.id)===lg.id?'2px solid #1890ff':'1px solid #d9d9d9',cursor:'pointer'},onClick:()=>{setSelectedLoadGenerator(lg);loadLoadGeneratorConfigs(lg.id);},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(CloudServerOutlined,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:lg.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[lg.host,\":\",lg.port]})]})]})},lg.id))})]}),/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Title,{level:5,children:\"Configurations\"}),/*#__PURE__*/_jsx(Space,{direction:\"vertical\",style:{width:'100%'},children:loadGeneratorConfigs.map(config=>/*#__PURE__*/_jsx(Card,{size:\"small\",hoverable:true,style:{border:(selectedConfig===null||selectedConfig===void 0?void 0:selectedConfig.id)===config.id?'2px solid #1890ff':'1px solid #d9d9d9',cursor:'pointer'},onClick:()=>setSelectedConfig(config),children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(InfoCircleOutlined,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:config.config_name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"CPU: \",config.system_cpu_cores,\" cores, Memory: \",config.system_memory_gb,\"GB\"]})]})]})},config.id))})]})]})]})},{title:'Execute',content:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 0'},children:[/*#__PURE__*/_jsx(Title,{level:4,children:\"Ready to Execute\"}),/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"large\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Text,{children:[\"Strategy: \",selectedStrategy===null||selectedStrategy===void 0?void 0:selectedStrategy.name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Text,{children:[\"Load Generator: \",selectedLoadGenerator===null||selectedLoadGenerator===void 0?void 0:selectedLoadGenerator.name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Text,{children:[\"Configuration: \",selectedConfig===null||selectedConfig===void 0?void 0:selectedConfig.config_name]})]}),/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",icon:/*#__PURE__*/_jsx(PlayCircleOutlined,{}),onClick:handleExecuteScenario,children:\"Execute Test\"})]})]})}];return(_steps$currentStep=steps[currentStep])===null||_steps$currentStep===void 0?void 0:_steps$currentStep.content;};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'24px'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(ArrowLeftOutlined,{}),onClick:()=>navigate('/test-tasks'),children:\"Back\"}),/*#__PURE__*/_jsx(Title,{level:2,style:{margin:0},children:testTask.name}),getScenarioTypeTag(testTask.scenario_type)]})}),/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(Title,{level:3,children:\"Test Task Information\"}),/*#__PURE__*/_jsxs(Row,{gutter:24,children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Task Name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Text,{children:testTask.name})]})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Target Host:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Text,{children:testTask.target_host})]})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Scenario Type:\"}),/*#__PURE__*/_jsx(\"br\",{}),getScenarioTypeTag(testTask.scenario_type)]})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Created At:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Text,{children:new Date(testTask.created_at).toLocaleString()})]})})]}),testTask.description&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Description:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Text,{children:testTask.description})]})]}),/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(Title,{level:3,style:{margin:0},children:\"Test Scenarios\"}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlayCircleOutlined,{}),onClick:handleCreateScenario,children:\"Create Scenario\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(ReloadOutlined,{}),onClick:fetchTestTask,children:\"Refresh\"})]})]}),testTask.scenarios&&testTask.scenarios.length>0?/*#__PURE__*/_jsx(Row,{gutter:16,children:testTask.scenarios.map((scenario,index)=>/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(Card,{title:\"Scenario \".concat(index+1),extra:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Clone Scenario\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(CopyOutlined,{}),onClick:()=>handleCloneScenario(scenario)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Edit Scenario\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EditOutlined,{})})}),/*#__PURE__*/_jsx(Popconfirm,{title:\"Are you sure to delete this scenario?\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{})})})]}),children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Interface:\"}),\" \",scenario.interface_name]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"URL:\"}),\" \",scenario.interface_url]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Method:\"}),\" \",scenario.method]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Weight:\"}),\" \",scenario.weight]})]})},scenario.id))}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 0',color:'#999'},children:[/*#__PURE__*/_jsx(FileTextOutlined,{style:{fontSize:48,marginBottom:16}}),/*#__PURE__*/_jsx(\"div\",{children:\"No scenarios created yet\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleCreateScenario,children:\"Create Your First Scenario\"})})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Title,{level:3,children:\"Execution History\"}),/*#__PURE__*/_jsx(Table,{columns:executionColumns,dataSource:executions,rowKey:\"id\",pagination:{showSizeChanger:true,showQuickJumper:true,showTotal:total=>\"Total \".concat(total,\" records\")}})]}),/*#__PURE__*/_jsxs(Modal,{title:\"Create Test Scenario\",open:scenarioModalVisible,onCancel:()=>{setScenarioModalVisible(false);setCurrentStep(0);setSelectedStrategy(null);setSelectedLoadGenerator(null);setSelectedConfig(null);setLocustFile(null);},footer:null,width:800,style:{top:20},children:[/*#__PURE__*/_jsxs(Steps,{current:currentStep,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Step,{title:\"Script Upload\"}),/*#__PURE__*/_jsx(Step,{title:\"Strategy Config\"}),/*#__PURE__*/_jsx(Step,{title:\"Load Generator\"}),/*#__PURE__*/_jsx(Step,{title:\"Execute\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:400},children:renderScenarioSteps()}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right',marginTop:24,borderTop:'1px solid #f0f0f0',paddingTop:16},children:/*#__PURE__*/_jsxs(Space,{children:[currentStep>0&&/*#__PURE__*/_jsx(Button,{onClick:handlePrevStep,children:\"Previous\"}),currentStep<3&&/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleNextStep,disabled:currentStep===0&&!locustFile&&!editorContent||currentStep===1&&!selectedStrategy||currentStep===2&&(!selectedLoadGenerator||!selectedConfig),children:\"Next\"}),currentStep===3&&/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleExecuteScenario,disabled:!selectedStrategy||!selectedLoadGenerator||!selectedConfig,children:\"Execute Test\"})]})})]}),/*#__PURE__*/_jsxs(Modal,{title:\"Script Editor\",open:editorModalVisible,onCancel:()=>setEditorModalVisible(false),footer:null,width:1000,style:{top:20},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:16},children:/*#__PURE__*/_jsx(Text,{children:\"Edit your Locust script below:\"})}),/*#__PURE__*/_jsx(Input.TextArea,{value:editorContent,onChange:e=>setEditorContent(e.target.value),placeholder:\"Enter your Locust script here...\",rows:20,style:{fontFamily:'monospace'}}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right',marginTop:16},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setEditorModalVisible(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleEditorSave,children:\"Save Script\"})]})})]}),/*#__PURE__*/_jsx(Modal,{title:\"Create Test Execution\",open:executionModalVisible,onCancel:()=>setExecutionModalVisible(false),footer:null,width:600,children:/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",onFinish:handleCreateExecution,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"strategy_id\",label:\"Test Strategy\",rules:[{required:true,message:'Please select test strategy'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Select test strategy\",children:strategies.map(strategy=>/*#__PURE__*/_jsxs(Select.Option,{value:strategy.id,children:[strategy.name,\" (\",strategy.strategy_type,\")\"]},strategy.id))})}),/*#__PURE__*/_jsx(Form.Item,{name:\"load_generator_id\",label:\"Load Generator\",rules:[{required:true,message:'Please select load generator'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Select load generator\",onChange:value=>loadLoadGeneratorConfigs(value),children:loadGenerators.map(lg=>/*#__PURE__*/_jsxs(Select.Option,{value:lg.id,children:[lg.name,\" (\",lg.host,\")\"]},lg.id))})}),/*#__PURE__*/_jsx(Form.Item,{name:\"load_generator_config_id\",label:\"Load Generator Config\",rules:[{required:true,message:'Please select load generator config'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Select load generator config\",children:loadGeneratorConfigs.map(config=>/*#__PURE__*/_jsx(Select.Option,{value:config.id,children:config.config_name},config.id))})}),/*#__PURE__*/_jsx(Form.Item,{name:\"execution_name\",label:\"Execution Name\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"Enter execution name (optional)\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Create Execution\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setExecutionModalVisible(false),children:\"Cancel\"})]})})]})})]});};// 使用 React.memo 优化组件性能，避免不必要的重渲染\nexport default/*#__PURE__*/React.memo(TestTaskDetail);","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Card","Row","Col","Button","Space","Tag","Table","message","Modal","Form","Input","Select","Upload","Typography","Steps","Collapse","Tooltip","Popconfirm","ArrowLeftOutlined","PlayCircleOutlined","PauseCircleOutlined","ReloadOutlined","UploadOutlined","EditOutlined","CopyOutlined","DeleteOutlined","FileTextOutlined","SettingOutlined","CloudServerOutlined","InfoCircleOutlined","testTaskService","testStrategyService","testExecutionService","loadGeneratorService","jsx","_jsx","jsxs","_jsxs","Title","Text","Step","Panel","TestTaskDetail","id","navigate","testTask","setTestTask","executions","setExecutions","strategies","setStrategies","loadGenerators","setLoadGenerators","loadGeneratorConfigs","setLoadGeneratorConfigs","loading","setLoading","scenarioModalVisible","setScenarioModalVisible","executionModalVisible","setExecutionModalVisible","editorModalVisible","setEditorModalVisible","currentStep","setCurrentStep","scenarioForm","useForm","executionForm","selectedStrategy","setSelectedStrategy","selectedLoadGenerator","setSelectedLoadGenerator","selectedConfig","setSelectedConfig","locustFile","setLocustFile","editorContent","setEditorContent","fetchTestTask","fetchExecutions","fetchStrategies","fetchLoadGenerators","data","getTestTask","parseInt","error","getExecutions","getTestStrategies","getLoadGenerators","loadLoadGeneratorConfigs","loadGeneratorId","configs","getConfigs","handleCreateScenario","handleCloneScenario","scenario","setFieldsValue","info","handleFileUpload","file","reader","FileReader","onload","e","_e$target","target","result","readAsText","handleEditorSave","success","handleNextStep","handlePrevStep","handleExecuteScenario","executionData","task_id","strategy_id","load_generator_id","load_generator_config_id","execution_name","concat","Date","toLocaleString","createTestExecution","handleStart","handleCreateExecution","values","getStatusTag","status","statusMap","pending","color","text","running","completed","failed","cancelled","config","children","getScenarioTypeTag","scenarioType","typeMap","single","multi","executionColumns","title","dataIndex","key","render","time","toFixed","rps","rate","date","_","record","size","type","icon","onClick","startTestExecution","then","catch","danger","stopTestExecution","reason","latestExecution","successRate","total_requests","total_failures","renderScenarioSteps","_steps$currentStep","steps","content","level","direction","style","width","accept","beforeUpload","showUploadList","name","gutter","map","strategy","span","hoverable","border","cursor","textAlign","fontSize","marginBottom","strategy_type","marginTop","user_count","spawn_rate","run_time","lg","strong","host","port","config_name","system_cpu_cores","system_memory_gb","padding","margin","scenario_type","target_host","created_at","description","display","justifyContent","alignItems","scenarios","length","index","extra","interface_name","interface_url","method","weight","columns","dataSource","rowKey","pagination","showSizeChanger","showQuickJumper","showTotal","total","open","onCancel","footer","top","current","minHeight","borderTop","paddingTop","disabled","TextArea","value","onChange","placeholder","rows","fontFamily","layout","onFinish","Item","label","rules","required","Option","htmlType","memo"],"sources":["/Users/fengzhao/PycharmProjects/pfp/frontend/src/pages/TestTaskDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  Card, \n  Row, \n  Col, \n  Button, \n  Space, \n  Tag, \n  Table, \n  message,\n  Tabs,\n  Statistic,\n  Progress,\n  Modal,\n  Form,\n  Input,\n  Select,\n  Upload,\n  Divider,\n  Typography,\n  Steps,\n  Collapse,\n  Tooltip,\n  Popconfirm\n} from 'antd';\nimport { \n  ArrowLeftOutlined,\n  PlayCircleOutlined,\n  PauseCircleOutlined,\n  ReloadOutlined,\n  ExperimentOutlined,\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  ClockCircleOutlined,\n  UploadOutlined,\n  EditOutlined,\n  CopyOutlined,\n  DeleteOutlined,\n  FileTextOutlined,\n  SettingOutlined,\n  CloudServerOutlined,\n  InfoCircleOutlined\n} from '@ant-design/icons';\nimport { \n  testTaskService, \n  testStrategyService, \n  testExecutionService,\n  loadGeneratorService \n} from '../services/api';\nimport type { \n  TestTask, \n  TestTaskWithScenarios, \n  TestExecution, \n  TestStrategy,\n  TestExecutionCreate\n} from '../types/testTask';\nimport type { LoadGenerator, LoadGeneratorConfig } from '../types/loadGenerator';\n\nconst { Title, Text } = Typography;\nconst { Step } = Steps;\nconst { Panel } = Collapse;\n\nconst TestTaskDetail: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [testTask, setTestTask] = useState<TestTaskWithScenarios | null>(null);\n  const [executions, setExecutions] = useState<TestExecution[]>([]);\n  const [strategies, setStrategies] = useState<TestStrategy[]>([]);\n  const [loadGenerators, setLoadGenerators] = useState<LoadGenerator[]>([]);\n  const [loadGeneratorConfigs, setLoadGeneratorConfigs] = useState<LoadGeneratorConfig[]>([]);\n  const [loading, setLoading] = useState(false);\n  \n  // 场景创建相关状态\n  const [scenarioModalVisible, setScenarioModalVisible] = useState(false);\n  const [executionModalVisible, setExecutionModalVisible] = useState(false);\n  const [editorModalVisible, setEditorModalVisible] = useState(false);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [scenarioForm] = Form.useForm();\n  const [executionForm] = Form.useForm();\n  \n  // 场景配置状态\n  const [selectedStrategy, setSelectedStrategy] = useState<TestStrategy | null>(null);\n  const [selectedLoadGenerator, setSelectedLoadGenerator] = useState<LoadGenerator | null>(null);\n  const [selectedConfig, setSelectedConfig] = useState<LoadGeneratorConfig | null>(null);\n  const [locustFile, setLocustFile] = useState<File | null>(null);\n  const [editorContent, setEditorContent] = useState('');\n\n  useEffect(() => {\n    if (id) {\n      fetchTestTask();\n      fetchExecutions();\n      fetchStrategies();\n      fetchLoadGenerators();\n    }\n  }, [id]);\n\n  const fetchTestTask = async () => {\n    if (!id) return;\n    setLoading(true);\n    try {\n      const data = await testTaskService.getTestTask(parseInt(id));\n      setTestTask(data);\n    } catch (error) {\n      message.error('Failed to fetch test task details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchExecutions = async () => {\n    if (!id) return;\n    try {\n      const data = await testTaskService.getExecutions(parseInt(id));\n      setExecutions(data);\n    } catch (error) {\n      message.error('Failed to fetch execution records');\n    }\n  };\n\n  const fetchStrategies = async () => {\n    try {\n      const data = await testStrategyService.getTestStrategies();\n      setStrategies(data);\n    } catch (error) {\n      message.error('Failed to fetch strategy list');\n    }\n  };\n\n  const fetchLoadGenerators = async () => {\n    try {\n      const data = await loadGeneratorService.getLoadGenerators();\n      setLoadGenerators(data);\n    } catch (error) {\n      message.error('Failed to fetch load generator list');\n    }\n  };\n\n  const loadLoadGeneratorConfigs = async (loadGeneratorId: number) => {\n    try {\n      const configs = await loadGeneratorService.getConfigs(loadGeneratorId);\n      setLoadGeneratorConfigs(configs);\n    } catch (error) {\n      message.error('Failed to load load generator configs');\n    }\n  };\n\n  // 场景创建相关处理函数\n  const handleCreateScenario = () => {\n    setScenarioModalVisible(true);\n    setCurrentStep(0);\n  };\n\n  const handleCloneScenario = (scenario: any) => {\n    setScenarioModalVisible(true);\n    setCurrentStep(0);\n    scenarioForm.setFieldsValue(scenario);\n    message.info('Scenario cloned, please modify as needed');\n  };\n\n  const handleFileUpload = (file: File) => {\n    setLocustFile(file);\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setEditorContent(e.target?.result as string || '');\n    };\n    reader.readAsText(file);\n    return false; // 阻止自动上传\n  };\n\n  const handleEditorSave = () => {\n    setEditorModalVisible(false);\n    message.success('Script saved successfully');\n  };\n\n  const handleNextStep = () => {\n    setCurrentStep(currentStep + 1);\n  };\n\n  const handlePrevStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n\n  const handleExecuteScenario = async () => {\n    if (!selectedStrategy || !selectedLoadGenerator || !selectedConfig) {\n      message.error('Please complete all configuration steps');\n      return;\n    }\n\n    try {\n      const executionData: TestExecutionCreate = {\n        task_id: parseInt(id!),\n        strategy_id: selectedStrategy.id,\n        load_generator_id: selectedLoadGenerator.id,\n        load_generator_config_id: selectedConfig.id,\n        execution_name: `Execution_${new Date().toLocaleString()}`\n      };\n      \n      await testExecutionService.createTestExecution(executionData);\n      message.success('Test execution created successfully');\n      setScenarioModalVisible(false);\n      fetchExecutions();\n    } catch (error) {\n      message.error('Failed to create test execution');\n    }\n  };\n\n  const handleStart = () => {\n    setExecutionModalVisible(true);\n  };\n\n  const handleCreateExecution = async (values: any) => {\n    if (!id) return;\n    try {\n      const executionData: TestExecutionCreate = {\n        task_id: parseInt(id),\n        strategy_id: values.strategy_id,\n        load_generator_id: values.load_generator_id,\n        load_generator_config_id: values.load_generator_config_id,\n        execution_name: values.execution_name || `Execution_${new Date().toLocaleString()}`\n      };\n      \n      await testExecutionService.createTestExecution(executionData);\n      message.success('Test execution created successfully');\n      setExecutionModalVisible(false);\n      fetchExecutions();\n    } catch (error) {\n      message.error('Failed to create test execution');\n    }\n  };\n\n\n  const getStatusTag = (status: string) => {\n    const statusMap = {\n      pending: { color: 'default', text: 'Pending' },\n      running: { color: 'processing', text: 'Running' },\n      completed: { color: 'success', text: 'Completed' },\n      failed: { color: 'error', text: 'Failed' },\n      cancelled: { color: 'warning', text: 'Cancelled' }\n    };\n    const config = statusMap[status as keyof typeof statusMap] || { color: 'default', text: status };\n    return <Tag color={config.color}>{config.text}</Tag>;\n  };\n\n  const getScenarioTypeTag = (scenarioType: string) => {\n    const typeMap = {\n      single: { color: 'blue', text: 'Single Interface' },\n      multi: { color: 'green', text: 'Multi Interface' }\n    };\n    const config = typeMap[scenarioType as keyof typeof typeMap] || { color: 'default', text: scenarioType };\n    return <Tag color={config.color}>{config.text}</Tag>;\n  };\n\n  const executionColumns = [\n    {\n      title: 'Execution Name',\n      dataIndex: 'execution_name',\n      key: 'execution_name',\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n      render: (status: string) => getStatusTag(status),\n    },\n    {\n      title: 'Total Requests',\n      dataIndex: 'total_requests',\n      key: 'total_requests',\n    },\n    {\n      title: 'Failures',\n      dataIndex: 'total_failures',\n      key: 'total_failures',\n    },\n    {\n      title: 'Avg Response Time (ms)',\n      dataIndex: 'avg_response_time',\n      key: 'avg_response_time',\n      render: (time: number) => time.toFixed(2),\n    },\n    {\n      title: 'RPS',\n      dataIndex: 'requests_per_second',\n      key: 'requests_per_second',\n      render: (rps: number) => rps.toFixed(2),\n    },\n    {\n      title: 'Error Rate',\n      dataIndex: 'error_rate',\n      key: 'error_rate',\n      render: (rate: number) => `${(rate * 100).toFixed(2)}%`,\n    },\n    {\n      title: 'Started At',\n      dataIndex: 'started_at',\n      key: 'started_at',\n      render: (date: string) => date ? new Date(date).toLocaleString() : '-',\n    },\n    {\n      title: 'Completed At',\n      dataIndex: 'completed_at',\n      key: 'completed_at',\n      render: (date: string) => date ? new Date(date).toLocaleString() : '-',\n    },\n    {\n      title: 'Actions',\n      key: 'action',\n      render: (_: any, record: TestExecution) => (\n        <Space>\n          {record.status === 'pending' && (\n            <Button\n              size=\"small\"\n              type=\"primary\"\n              icon={<PlayCircleOutlined />}\n              onClick={() => {\n                testExecutionService.startTestExecution(record.id).then(() => {\n                  message.success('Execution started');\n                  fetchExecutions();\n                }).catch(() => {\n                  message.error('Failed to start execution');\n                });\n              }}\n            >\n              Start\n            </Button>\n          )}\n          {record.status === 'running' && (\n            <Button\n              size=\"small\"\n              danger\n              icon={<PauseCircleOutlined />}\n              onClick={() => {\n                testExecutionService.stopTestExecution(record.id, { reason: 'Manual stop' }).then(() => {\n                  message.success('Execution stopped');\n                  fetchExecutions();\n                }).catch(() => {\n                  message.error('Failed to stop execution');\n                });\n              }}\n            >\n              Stop\n            </Button>\n          )}\n          <Button\n            size=\"small\"\n            icon={<ReloadOutlined />}\n            onClick={() => navigate(`/test-executions/${record.id}`)}\n          >\n            View Details\n          </Button>\n        </Space>\n      ),\n    },\n  ];\n\n  if (!testTask) {\n    return <div>Loading...</div>;\n  }\n\n  const latestExecution = executions[0];\n  const successRate = latestExecution ? \n    ((latestExecution.total_requests - latestExecution.total_failures) / latestExecution.total_requests * 100) : 0;\n\n  // 场景创建步骤内容\n  const renderScenarioSteps = () => {\n    const steps = [\n      {\n        title: 'Script Upload',\n        content: (\n          <div>\n            <Title level={4}>Upload Locust Script</Title>\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n              <Upload\n                accept=\".py\"\n                beforeUpload={handleFileUpload}\n                showUploadList={false}\n              >\n                <Button icon={<UploadOutlined />} size=\"large\">\n                  Upload Locust File\n                </Button>\n              </Upload>\n              {locustFile && (\n                <div>\n                  <Text>Selected file: {locustFile.name}</Text>\n                  <Button \n                    type=\"link\" \n                    icon={<EditOutlined />}\n                    onClick={() => setEditorModalVisible(true)}\n                  >\n                    Edit Script\n                  </Button>\n                </div>\n              )}\n              <Button \n                type=\"dashed\" \n                icon={<FileTextOutlined />}\n                onClick={() => setEditorModalVisible(true)}\n                style={{ width: '100%' }}\n              >\n                Create New Script\n              </Button>\n            </Space>\n          </div>\n        )\n      },\n      {\n        title: 'Strategy Configuration',\n        content: (\n          <div>\n            <Title level={4}>Select Test Strategy</Title>\n            <Row gutter={16}>\n              {strategies.map(strategy => (\n                <Col span={8} key={strategy.id}>\n                  <Card\n                    hoverable\n                    style={{ \n                      border: selectedStrategy?.id === strategy.id ? '2px solid #1890ff' : '1px solid #d9d9d9',\n                      cursor: 'pointer'\n                    }}\n                    onClick={() => setSelectedStrategy(strategy)}\n                  >\n                    <div style={{ textAlign: 'center' }}>\n                      <SettingOutlined style={{ fontSize: 24, color: '#1890ff', marginBottom: 8 }} />\n                      <Title level={5}>{strategy.name}</Title>\n                      <Text type=\"secondary\">{strategy.strategy_type}</Text>\n                      <div style={{ marginTop: 8 }}>\n                        <Text>Users: {strategy.user_count}</Text><br/>\n                        <Text>Spawn Rate: {strategy.spawn_rate}/s</Text><br/>\n                        <Text>Run Time: {strategy.run_time}s</Text>\n                      </div>\n                    </div>\n                  </Card>\n                </Col>\n              ))}\n            </Row>\n          </div>\n        )\n      },\n      {\n        title: 'Load Generator Configuration',\n        content: (\n          <div>\n            <Title level={4}>Select Load Generator & Configuration</Title>\n            <Row gutter={16}>\n              <Col span={12}>\n                <Title level={5}>Load Generators</Title>\n                <Space direction=\"vertical\" style={{ width: '100%' }}>\n                  {loadGenerators.map(lg => (\n                    <Card\n                      key={lg.id}\n                      size=\"small\"\n                      hoverable\n                      style={{ \n                        border: selectedLoadGenerator?.id === lg.id ? '2px solid #1890ff' : '1px solid #d9d9d9',\n                        cursor: 'pointer'\n                      }}\n                      onClick={() => {\n                        setSelectedLoadGenerator(lg);\n                        loadLoadGeneratorConfigs(lg.id);\n                      }}\n                    >\n                      <Space>\n                        <CloudServerOutlined />\n                        <div>\n                          <Text strong>{lg.name}</Text><br/>\n                          <Text type=\"secondary\">{lg.host}:{lg.port}</Text>\n                        </div>\n                      </Space>\n                    </Card>\n                  ))}\n                </Space>\n              </Col>\n              <Col span={12}>\n                <Title level={5}>Configurations</Title>\n                <Space direction=\"vertical\" style={{ width: '100%' }}>\n                  {loadGeneratorConfigs.map(config => (\n                    <Card\n                      key={config.id}\n                      size=\"small\"\n                      hoverable\n                      style={{ \n                        border: selectedConfig?.id === config.id ? '2px solid #1890ff' : '1px solid #d9d9d9',\n                        cursor: 'pointer'\n                      }}\n                      onClick={() => setSelectedConfig(config)}\n                    >\n                      <Space>\n                        <InfoCircleOutlined />\n                        <div>\n                          <Text strong>{config.config_name}</Text><br/>\n                          <Text type=\"secondary\">CPU: {config.system_cpu_cores} cores, Memory: {config.system_memory_gb}GB</Text>\n                        </div>\n                      </Space>\n                    </Card>\n                  ))}\n                </Space>\n              </Col>\n            </Row>\n          </div>\n        )\n      },\n      {\n        title: 'Execute',\n        content: (\n          <div style={{ textAlign: 'center', padding: '40px 0' }}>\n            <Title level={4}>Ready to Execute</Title>\n            <Space direction=\"vertical\" size=\"large\">\n              <div>\n                <Text>Strategy: {selectedStrategy?.name}</Text><br/>\n                <Text>Load Generator: {selectedLoadGenerator?.name}</Text><br/>\n                <Text>Configuration: {selectedConfig?.config_name}</Text>\n              </div>\n              <Button \n                type=\"primary\" \n                size=\"large\"\n                icon={<PlayCircleOutlined />}\n                onClick={handleExecuteScenario}\n              >\n                Execute Test\n              </Button>\n            </Space>\n          </div>\n        )\n      }\n    ];\n\n    return steps[currentStep]?.content;\n  };\n\n  return (\n    <div style={{ padding: '24px' }}>\n      {/* 页面头部 */}\n      <div style={{ marginBottom: '24px' }}>\n        <Space>\n          <Button \n            icon={<ArrowLeftOutlined />}\n            onClick={() => navigate('/test-tasks')}\n          >\n            Back\n          </Button>\n          <Title level={2} style={{ margin: 0 }}>{testTask.name}</Title>\n          {getScenarioTypeTag(testTask.scenario_type)}\n        </Space>\n      </div>\n\n      {/* 测试任务基本信息 */}\n      <Card style={{ marginBottom: '24px' }}>\n        <Title level={3}>Test Task Information</Title>\n        <Row gutter={24}>\n          <Col span={6}>\n            <div style={{ marginBottom: 16 }}>\n              <Text strong>Task Name:</Text><br/>\n              <Text>{testTask.name}</Text>\n            </div>\n          </Col>\n          <Col span={6}>\n            <div style={{ marginBottom: 16 }}>\n              <Text strong>Target Host:</Text><br/>\n              <Text>{testTask.target_host}</Text>\n            </div>\n          </Col>\n          <Col span={6}>\n            <div style={{ marginBottom: 16 }}>\n              <Text strong>Scenario Type:</Text><br/>\n              {getScenarioTypeTag(testTask.scenario_type)}\n            </div>\n          </Col>\n          <Col span={6}>\n            <div style={{ marginBottom: 16 }}>\n              <Text strong>Created At:</Text><br/>\n              <Text>{new Date(testTask.created_at).toLocaleString()}</Text>\n            </div>\n          </Col>\n        </Row>\n        {testTask.description && (\n          <div>\n            <Text strong>Description:</Text><br/>\n            <Text>{testTask.description}</Text>\n          </div>\n        )}\n      </Card>\n\n      {/* 测试场景创建区域 */}\n      <Card style={{ marginBottom: '24px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n          <Title level={3} style={{ margin: 0 }}>Test Scenarios</Title>\n          <Space>\n            <Button \n              type=\"primary\"\n              icon={<PlayCircleOutlined />}\n              onClick={handleCreateScenario}\n            >\n              Create Scenario\n            </Button>\n            <Button \n              icon={<ReloadOutlined />}\n              onClick={fetchTestTask}\n            >\n              Refresh\n            </Button>\n          </Space>\n        </div>\n\n        {/* 现有场景列表 */}\n        {testTask.scenarios && testTask.scenarios.length > 0 ? (\n          <Row gutter={16}>\n            {testTask.scenarios.map((scenario, index) => (\n              <Col span={8} key={scenario.id}>\n                <Card\n                  title={`Scenario ${index + 1}`}\n                  extra={\n                    <Space>\n                      <Tooltip title=\"Clone Scenario\">\n                        <Button \n                          size=\"small\" \n                          icon={<CopyOutlined />}\n                          onClick={() => handleCloneScenario(scenario)}\n                        />\n                      </Tooltip>\n                      <Tooltip title=\"Edit Scenario\">\n                        <Button \n                          size=\"small\" \n                          icon={<EditOutlined />}\n                        />\n                      </Tooltip>\n                      <Popconfirm title=\"Are you sure to delete this scenario?\">\n                        <Button \n                          size=\"small\" \n                          danger \n                          icon={<DeleteOutlined />}\n                        />\n                      </Popconfirm>\n                    </Space>\n                  }\n                >\n                  <div style={{ marginBottom: 8 }}>\n                    <Text strong>Interface:</Text> {scenario.interface_name}\n                  </div>\n                  <div style={{ marginBottom: 8 }}>\n                    <Text strong>URL:</Text> {scenario.interface_url}\n                  </div>\n                  <div style={{ marginBottom: 8 }}>\n                    <Text strong>Method:</Text> {scenario.method}\n                  </div>\n                  <div>\n                    <Text strong>Weight:</Text> {scenario.weight}\n                  </div>\n                </Card>\n              </Col>\n            ))}\n          </Row>\n        ) : (\n          <div style={{ textAlign: 'center', padding: '40px 0', color: '#999' }}>\n            <FileTextOutlined style={{ fontSize: 48, marginBottom: 16 }} />\n            <div>No scenarios created yet</div>\n            <div style={{ marginTop: 8 }}>\n              <Button type=\"primary\" onClick={handleCreateScenario}>\n                Create Your First Scenario\n              </Button>\n            </div>\n          </div>\n        )}\n      </Card>\n\n      {/* 执行记录 */}\n      <Card>\n        <Title level={3}>Execution History</Title>\n        <Table\n          columns={executionColumns}\n          dataSource={executions}\n          rowKey=\"id\"\n          pagination={{\n            showSizeChanger: true,\n            showQuickJumper: true,\n            showTotal: (total) => `Total ${total} records`,\n          }}\n        />\n      </Card>\n\n      {/* 场景创建模态框 */}\n      <Modal\n        title=\"Create Test Scenario\"\n        open={scenarioModalVisible}\n        onCancel={() => {\n          setScenarioModalVisible(false);\n          setCurrentStep(0);\n          setSelectedStrategy(null);\n          setSelectedLoadGenerator(null);\n          setSelectedConfig(null);\n          setLocustFile(null);\n        }}\n        footer={null}\n        width={800}\n        style={{ top: 20 }}\n      >\n        <Steps current={currentStep} style={{ marginBottom: 24 }}>\n          <Step title=\"Script Upload\" />\n          <Step title=\"Strategy Config\" />\n          <Step title=\"Load Generator\" />\n          <Step title=\"Execute\" />\n        </Steps>\n        \n        <div style={{ minHeight: 400 }}>\n          {renderScenarioSteps()}\n        </div>\n        \n        <div style={{ textAlign: 'right', marginTop: 24, borderTop: '1px solid #f0f0f0', paddingTop: 16 }}>\n          <Space>\n            {currentStep > 0 && (\n              <Button onClick={handlePrevStep}>\n                Previous\n              </Button>\n            )}\n            {currentStep < 3 && (\n              <Button \n                type=\"primary\" \n                onClick={handleNextStep}\n                disabled={\n                  (currentStep === 0 && !locustFile && !editorContent) ||\n                  (currentStep === 1 && !selectedStrategy) ||\n                  (currentStep === 2 && (!selectedLoadGenerator || !selectedConfig))\n                }\n              >\n                Next\n              </Button>\n            )}\n            {currentStep === 3 && (\n              <Button \n                type=\"primary\" \n                onClick={handleExecuteScenario}\n                disabled={!selectedStrategy || !selectedLoadGenerator || !selectedConfig}\n              >\n                Execute Test\n              </Button>\n            )}\n          </Space>\n        </div>\n      </Modal>\n\n      {/* 脚本编辑器模态框 */}\n      <Modal\n        title=\"Script Editor\"\n        open={editorModalVisible}\n        onCancel={() => setEditorModalVisible(false)}\n        footer={null}\n        width={1000}\n        style={{ top: 20 }}\n      >\n        <div style={{ marginBottom: 16 }}>\n          <Text>Edit your Locust script below:</Text>\n        </div>\n        <Input.TextArea\n          value={editorContent}\n          onChange={(e) => setEditorContent(e.target.value)}\n          placeholder=\"Enter your Locust script here...\"\n          rows={20}\n          style={{ fontFamily: 'monospace' }}\n        />\n        <div style={{ textAlign: 'right', marginTop: 16 }}>\n          <Space>\n            <Button onClick={() => setEditorModalVisible(false)}>\n              Cancel\n            </Button>\n            <Button type=\"primary\" onClick={handleEditorSave}>\n              Save Script\n            </Button>\n          </Space>\n        </div>\n      </Modal>\n\n      {/* 创建执行模态框 */}\n      <Modal\n        title=\"Create Test Execution\"\n        open={executionModalVisible}\n        onCancel={() => setExecutionModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        <Form\n          layout=\"vertical\"\n          onFinish={handleCreateExecution}\n        >\n          <Form.Item\n            name=\"strategy_id\"\n            label=\"Test Strategy\"\n            rules={[{ required: true, message: 'Please select test strategy' }]}\n          >\n            <Select placeholder=\"Select test strategy\">\n              {strategies.map(strategy => (\n                <Select.Option key={strategy.id} value={strategy.id}>\n                  {strategy.name} ({strategy.strategy_type})\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"load_generator_id\"\n            label=\"Load Generator\"\n            rules={[{ required: true, message: 'Please select load generator' }]}\n          >\n            <Select \n              placeholder=\"Select load generator\"\n              onChange={(value) => loadLoadGeneratorConfigs(value)}\n            >\n              {loadGenerators.map(lg => (\n                <Select.Option key={lg.id} value={lg.id}>\n                  {lg.name} ({lg.host})\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"load_generator_config_id\"\n            label=\"Load Generator Config\"\n            rules={[{ required: true, message: 'Please select load generator config' }]}\n          >\n            <Select placeholder=\"Select load generator config\">\n              {loadGeneratorConfigs.map(config => (\n                <Select.Option key={config.id} value={config.id}>\n                  {config.config_name}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"execution_name\"\n            label=\"Execution Name\"\n          >\n            <Input placeholder=\"Enter execution name (optional)\" />\n          </Form.Item>\n          \n          <Form.Item>\n            <Space>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Create Execution\n              </Button>\n              <Button onClick={() => setExecutionModalVisible(false)}>\n                Cancel\n              </Button>\n            </Space>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\n// 使用 React.memo 优化组件性能，避免不必要的重渲染\nexport default React.memo(TestTaskDetail);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OACEC,IAAI,CACJC,GAAG,CACHC,GAAG,CACHC,MAAM,CACNC,KAAK,CACLC,GAAG,CACHC,KAAK,CACLC,OAAO,CAIPC,KAAK,CACLC,IAAI,CACJC,KAAK,CACLC,MAAM,CACNC,MAAM,CAENC,UAAU,CACVC,KAAK,CACLC,QAAQ,CACRC,OAAO,CACPC,UAAU,KACL,MAAM,CACb,OACEC,iBAAiB,CACjBC,kBAAkB,CAClBC,mBAAmB,CACnBC,cAAc,CAKdC,cAAc,CACdC,YAAY,CACZC,YAAY,CACZC,cAAc,CACdC,gBAAgB,CAChBC,eAAe,CACfC,mBAAmB,CACnBC,kBAAkB,KACb,mBAAmB,CAC1B,OACEC,eAAe,CACfC,mBAAmB,CACnBC,oBAAoB,CACpBC,oBAAoB,KACf,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAUzB,KAAM,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAG1B,UAAU,CAClC,KAAM,CAAE2B,IAAK,CAAC,CAAG1B,KAAK,CACtB,KAAM,CAAE2B,KAAM,CAAC,CAAG1B,QAAQ,CAE1B,KAAM,CAAA2B,cAAwB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAEC,EAAG,CAAC,CAAG7C,SAAS,CAAiB,CAAC,CAC1C,KAAM,CAAA8C,QAAQ,CAAG7C,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC8C,QAAQ,CAAEC,WAAW,CAAC,CAAGlD,QAAQ,CAA+B,IAAI,CAAC,CAC5E,KAAM,CAACmD,UAAU,CAAEC,aAAa,CAAC,CAAGpD,QAAQ,CAAkB,EAAE,CAAC,CACjE,KAAM,CAACqD,UAAU,CAAEC,aAAa,CAAC,CAAGtD,QAAQ,CAAiB,EAAE,CAAC,CAChE,KAAM,CAACuD,cAAc,CAAEC,iBAAiB,CAAC,CAAGxD,QAAQ,CAAkB,EAAE,CAAC,CACzE,KAAM,CAACyD,oBAAoB,CAAEC,uBAAuB,CAAC,CAAG1D,QAAQ,CAAwB,EAAE,CAAC,CAC3F,KAAM,CAAC2D,OAAO,CAAEC,UAAU,CAAC,CAAG5D,QAAQ,CAAC,KAAK,CAAC,CAE7C;AACA,KAAM,CAAC6D,oBAAoB,CAAEC,uBAAuB,CAAC,CAAG9D,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAAC+D,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGhE,QAAQ,CAAC,KAAK,CAAC,CACzE,KAAM,CAACiE,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGlE,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACmE,WAAW,CAAEC,cAAc,CAAC,CAAGpE,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACqE,YAAY,CAAC,CAAGxD,IAAI,CAACyD,OAAO,CAAC,CAAC,CACrC,KAAM,CAACC,aAAa,CAAC,CAAG1D,IAAI,CAACyD,OAAO,CAAC,CAAC,CAEtC;AACA,KAAM,CAACE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGzE,QAAQ,CAAsB,IAAI,CAAC,CACnF,KAAM,CAAC0E,qBAAqB,CAAEC,wBAAwB,CAAC,CAAG3E,QAAQ,CAAuB,IAAI,CAAC,CAC9F,KAAM,CAAC4E,cAAc,CAAEC,iBAAiB,CAAC,CAAG7E,QAAQ,CAA6B,IAAI,CAAC,CACtF,KAAM,CAAC8E,UAAU,CAAEC,aAAa,CAAC,CAAG/E,QAAQ,CAAc,IAAI,CAAC,CAC/D,KAAM,CAACgF,aAAa,CAAEC,gBAAgB,CAAC,CAAGjF,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACd,GAAI8C,EAAE,CAAE,CACNmC,aAAa,CAAC,CAAC,CACfC,eAAe,CAAC,CAAC,CACjBC,eAAe,CAAC,CAAC,CACjBC,mBAAmB,CAAC,CAAC,CACvB,CACF,CAAC,CAAE,CAACtC,EAAE,CAAC,CAAC,CAER,KAAM,CAAAmC,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CAACnC,EAAE,CAAE,OACTa,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAA0B,IAAI,CAAG,KAAM,CAAApD,eAAe,CAACqD,WAAW,CAACC,QAAQ,CAACzC,EAAE,CAAC,CAAC,CAC5DG,WAAW,CAACoC,IAAI,CAAC,CACnB,CAAE,MAAOG,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,mCAAmC,CAAC,CACpD,CAAC,OAAS,CACR7B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAuB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CAACpC,EAAE,CAAE,OACT,GAAI,CACF,KAAM,CAAAuC,IAAI,CAAG,KAAM,CAAApD,eAAe,CAACwD,aAAa,CAACF,QAAQ,CAACzC,EAAE,CAAC,CAAC,CAC9DK,aAAa,CAACkC,IAAI,CAAC,CACrB,CAAE,MAAOG,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,mCAAmC,CAAC,CACpD,CACF,CAAC,CAED,KAAM,CAAAL,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAnD,mBAAmB,CAACwD,iBAAiB,CAAC,CAAC,CAC1DrC,aAAa,CAACgC,IAAI,CAAC,CACrB,CAAE,MAAOG,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,+BAA+B,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAJ,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAjD,oBAAoB,CAACuD,iBAAiB,CAAC,CAAC,CAC3DpC,iBAAiB,CAAC8B,IAAI,CAAC,CACzB,CAAE,MAAOG,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,qCAAqC,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAI,wBAAwB,CAAG,KAAO,CAAAC,eAAuB,EAAK,CAClE,GAAI,CACF,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAA1D,oBAAoB,CAAC2D,UAAU,CAACF,eAAe,CAAC,CACtEpC,uBAAuB,CAACqC,OAAO,CAAC,CAClC,CAAE,MAAON,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,uCAAuC,CAAC,CACxD,CACF,CAAC,CAED;AACA,KAAM,CAAAQ,oBAAoB,CAAGA,CAAA,GAAM,CACjCnC,uBAAuB,CAAC,IAAI,CAAC,CAC7BM,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAA8B,mBAAmB,CAAIC,QAAa,EAAK,CAC7CrC,uBAAuB,CAAC,IAAI,CAAC,CAC7BM,cAAc,CAAC,CAAC,CAAC,CACjBC,YAAY,CAAC+B,cAAc,CAACD,QAAQ,CAAC,CACrCxF,OAAO,CAAC0F,IAAI,CAAC,0CAA0C,CAAC,CAC1D,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,IAAU,EAAK,CACvCxB,aAAa,CAACwB,IAAI,CAAC,CACnB,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,KAAAC,SAAA,CACrB3B,gBAAgB,CAAC,EAAA2B,SAAA,CAAAD,CAAC,CAACE,MAAM,UAAAD,SAAA,iBAARA,SAAA,CAAUE,MAAM,GAAc,EAAE,CAAC,CACpD,CAAC,CACDN,MAAM,CAACO,UAAU,CAACR,IAAI,CAAC,CACvB,MAAO,MAAK,CAAE;AAChB,CAAC,CAED,KAAM,CAAAS,gBAAgB,CAAGA,CAAA,GAAM,CAC7B9C,qBAAqB,CAAC,KAAK,CAAC,CAC5BvD,OAAO,CAACsG,OAAO,CAAC,2BAA2B,CAAC,CAC9C,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B9C,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAgD,cAAc,CAAGA,CAAA,GAAM,CAC3B/C,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAiD,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CAAC5C,gBAAgB,EAAI,CAACE,qBAAqB,EAAI,CAACE,cAAc,CAAE,CAClEjE,OAAO,CAAC8E,KAAK,CAAC,yCAAyC,CAAC,CACxD,OACF,CAEA,GAAI,CACF,KAAM,CAAA4B,aAAkC,CAAG,CACzCC,OAAO,CAAE9B,QAAQ,CAACzC,EAAG,CAAC,CACtBwE,WAAW,CAAE/C,gBAAgB,CAACzB,EAAE,CAChCyE,iBAAiB,CAAE9C,qBAAqB,CAAC3B,EAAE,CAC3C0E,wBAAwB,CAAE7C,cAAc,CAAC7B,EAAE,CAC3C2E,cAAc,cAAAC,MAAA,CAAe,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC,CAC1D,CAAC,CAED,KAAM,CAAAzF,oBAAoB,CAAC0F,mBAAmB,CAACT,aAAa,CAAC,CAC7D1G,OAAO,CAACsG,OAAO,CAAC,qCAAqC,CAAC,CACtDnD,uBAAuB,CAAC,KAAK,CAAC,CAC9BqB,eAAe,CAAC,CAAC,CACnB,CAAE,MAAOM,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,iCAAiC,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAAsC,WAAW,CAAGA,CAAA,GAAM,CACxB/D,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAAC,CAED,KAAM,CAAAgE,qBAAqB,CAAG,KAAO,CAAAC,MAAW,EAAK,CACnD,GAAI,CAAClF,EAAE,CAAE,OACT,GAAI,CACF,KAAM,CAAAsE,aAAkC,CAAG,CACzCC,OAAO,CAAE9B,QAAQ,CAACzC,EAAE,CAAC,CACrBwE,WAAW,CAAEU,MAAM,CAACV,WAAW,CAC/BC,iBAAiB,CAAES,MAAM,CAACT,iBAAiB,CAC3CC,wBAAwB,CAAEQ,MAAM,CAACR,wBAAwB,CACzDC,cAAc,CAAEO,MAAM,CAACP,cAAc,eAAAC,MAAA,CAAiB,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC,CACnF,CAAC,CAED,KAAM,CAAAzF,oBAAoB,CAAC0F,mBAAmB,CAACT,aAAa,CAAC,CAC7D1G,OAAO,CAACsG,OAAO,CAAC,qCAAqC,CAAC,CACtDjD,wBAAwB,CAAC,KAAK,CAAC,CAC/BmB,eAAe,CAAC,CAAC,CACnB,CAAE,MAAOM,KAAK,CAAE,CACd9E,OAAO,CAAC8E,KAAK,CAAC,iCAAiC,CAAC,CAClD,CACF,CAAC,CAGD,KAAM,CAAAyC,YAAY,CAAIC,MAAc,EAAK,CACvC,KAAM,CAAAC,SAAS,CAAG,CAChBC,OAAO,CAAE,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,SAAU,CAAC,CAC9CC,OAAO,CAAE,CAAEF,KAAK,CAAE,YAAY,CAAEC,IAAI,CAAE,SAAU,CAAC,CACjDE,SAAS,CAAE,CAAEH,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,WAAY,CAAC,CAClDG,MAAM,CAAE,CAAEJ,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,QAAS,CAAC,CAC1CI,SAAS,CAAE,CAAEL,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,WAAY,CACnD,CAAC,CACD,KAAM,CAAAK,MAAM,CAAGR,SAAS,CAACD,MAAM,CAA2B,EAAI,CAAEG,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAEJ,MAAO,CAAC,CAChG,mBAAO5F,IAAA,CAAC9B,GAAG,EAAC6H,KAAK,CAAEM,MAAM,CAACN,KAAM,CAAAO,QAAA,CAAED,MAAM,CAACL,IAAI,CAAM,CAAC,CACtD,CAAC,CAED,KAAM,CAAAO,kBAAkB,CAAIC,YAAoB,EAAK,CACnD,KAAM,CAAAC,OAAO,CAAG,CACdC,MAAM,CAAE,CAAEX,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAE,kBAAmB,CAAC,CACnDW,KAAK,CAAE,CAAEZ,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,iBAAkB,CACnD,CAAC,CACD,KAAM,CAAAK,MAAM,CAAGI,OAAO,CAACD,YAAY,CAAyB,EAAI,CAAET,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAEQ,YAAa,CAAC,CACxG,mBAAOxG,IAAA,CAAC9B,GAAG,EAAC6H,KAAK,CAAEM,MAAM,CAACN,KAAM,CAAAO,QAAA,CAAED,MAAM,CAACL,IAAI,CAAM,CAAC,CACtD,CAAC,CAED,KAAM,CAAAY,gBAAgB,CAAG,CACvB,CACEC,KAAK,CAAE,gBAAgB,CACvBC,SAAS,CAAE,gBAAgB,CAC3BC,GAAG,CAAE,gBACP,CAAC,CACD,CACEF,KAAK,CAAE,QAAQ,CACfC,SAAS,CAAE,QAAQ,CACnBC,GAAG,CAAE,QAAQ,CACbC,MAAM,CAAGpB,MAAc,EAAKD,YAAY,CAACC,MAAM,CACjD,CAAC,CACD,CACEiB,KAAK,CAAE,gBAAgB,CACvBC,SAAS,CAAE,gBAAgB,CAC3BC,GAAG,CAAE,gBACP,CAAC,CACD,CACEF,KAAK,CAAE,UAAU,CACjBC,SAAS,CAAE,gBAAgB,CAC3BC,GAAG,CAAE,gBACP,CAAC,CACD,CACEF,KAAK,CAAE,wBAAwB,CAC/BC,SAAS,CAAE,mBAAmB,CAC9BC,GAAG,CAAE,mBAAmB,CACxBC,MAAM,CAAGC,IAAY,EAAKA,IAAI,CAACC,OAAO,CAAC,CAAC,CAC1C,CAAC,CACD,CACEL,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,qBAAqB,CAChCC,GAAG,CAAE,qBAAqB,CAC1BC,MAAM,CAAGG,GAAW,EAAKA,GAAG,CAACD,OAAO,CAAC,CAAC,CACxC,CAAC,CACD,CACEL,KAAK,CAAE,YAAY,CACnBC,SAAS,CAAE,YAAY,CACvBC,GAAG,CAAE,YAAY,CACjBC,MAAM,CAAGI,IAAY,KAAAhC,MAAA,CAAQ,CAACgC,IAAI,CAAG,GAAG,EAAEF,OAAO,CAAC,CAAC,CAAC,KACtD,CAAC,CACD,CACEL,KAAK,CAAE,YAAY,CACnBC,SAAS,CAAE,YAAY,CACvBC,GAAG,CAAE,YAAY,CACjBC,MAAM,CAAGK,IAAY,EAAKA,IAAI,CAAG,GAAI,CAAAhC,IAAI,CAACgC,IAAI,CAAC,CAAC/B,cAAc,CAAC,CAAC,CAAG,GACrE,CAAC,CACD,CACEuB,KAAK,CAAE,cAAc,CACrBC,SAAS,CAAE,cAAc,CACzBC,GAAG,CAAE,cAAc,CACnBC,MAAM,CAAGK,IAAY,EAAKA,IAAI,CAAG,GAAI,CAAAhC,IAAI,CAACgC,IAAI,CAAC,CAAC/B,cAAc,CAAC,CAAC,CAAG,GACrE,CAAC,CACD,CACEuB,KAAK,CAAE,SAAS,CAChBE,GAAG,CAAE,QAAQ,CACbC,MAAM,CAAEA,CAACM,CAAM,CAAEC,MAAqB,gBACpCrH,KAAA,CAACjC,KAAK,EAAAqI,QAAA,EACHiB,MAAM,CAAC3B,MAAM,GAAK,SAAS,eAC1B5F,IAAA,CAAChC,MAAM,EACLwJ,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,SAAS,CACdC,IAAI,cAAE1H,IAAA,CAAChB,kBAAkB,GAAE,CAAE,CAC7B2I,OAAO,CAAEA,CAAA,GAAM,CACb9H,oBAAoB,CAAC+H,kBAAkB,CAACL,MAAM,CAAC/G,EAAE,CAAC,CAACqH,IAAI,CAAC,IAAM,CAC5DzJ,OAAO,CAACsG,OAAO,CAAC,mBAAmB,CAAC,CACpC9B,eAAe,CAAC,CAAC,CACnB,CAAC,CAAC,CAACkF,KAAK,CAAC,IAAM,CACb1J,OAAO,CAAC8E,KAAK,CAAC,2BAA2B,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAE,CAAAoD,QAAA,CACH,OAED,CAAQ,CACT,CACAiB,MAAM,CAAC3B,MAAM,GAAK,SAAS,eAC1B5F,IAAA,CAAChC,MAAM,EACLwJ,IAAI,CAAC,OAAO,CACZO,MAAM,MACNL,IAAI,cAAE1H,IAAA,CAACf,mBAAmB,GAAE,CAAE,CAC9B0I,OAAO,CAAEA,CAAA,GAAM,CACb9H,oBAAoB,CAACmI,iBAAiB,CAACT,MAAM,CAAC/G,EAAE,CAAE,CAAEyH,MAAM,CAAE,aAAc,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAM,CACtFzJ,OAAO,CAACsG,OAAO,CAAC,mBAAmB,CAAC,CACpC9B,eAAe,CAAC,CAAC,CACnB,CAAC,CAAC,CAACkF,KAAK,CAAC,IAAM,CACb1J,OAAO,CAAC8E,KAAK,CAAC,0BAA0B,CAAC,CAC3C,CAAC,CAAC,CACJ,CAAE,CAAAoD,QAAA,CACH,MAED,CAAQ,CACT,cACDtG,IAAA,CAAChC,MAAM,EACLwJ,IAAI,CAAC,OAAO,CACZE,IAAI,cAAE1H,IAAA,CAACd,cAAc,GAAE,CAAE,CACzByI,OAAO,CAAEA,CAAA,GAAMlH,QAAQ,qBAAA2E,MAAA,CAAqBmC,MAAM,CAAC/G,EAAE,CAAE,CAAE,CAAA8F,QAAA,CAC1D,cAED,CAAQ,CAAC,EACJ,CAEX,CAAC,CACF,CAED,GAAI,CAAC5F,QAAQ,CAAE,CACb,mBAAOV,IAAA,QAAAsG,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,KAAM,CAAA4B,eAAe,CAAGtH,UAAU,CAAC,CAAC,CAAC,CACrC,KAAM,CAAAuH,WAAW,CAAGD,eAAe,CAChC,CAACA,eAAe,CAACE,cAAc,CAAGF,eAAe,CAACG,cAAc,EAAIH,eAAe,CAACE,cAAc,CAAG,GAAG,CAAI,CAAC,CAEhH;AACA,KAAM,CAAAE,mBAAmB,CAAGA,CAAA,GAAM,KAAAC,kBAAA,CAChC,KAAM,CAAAC,KAAK,CAAG,CACZ,CACE3B,KAAK,CAAE,eAAe,CACtB4B,OAAO,cACLvI,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,sBAAoB,CAAO,CAAC,cAC7CpG,KAAA,CAACjC,KAAK,EAAC0K,SAAS,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAvC,QAAA,eACnDtG,IAAA,CAACvB,MAAM,EACLqK,MAAM,CAAC,KAAK,CACZC,YAAY,CAAEhF,gBAAiB,CAC/BiF,cAAc,CAAE,KAAM,CAAA1C,QAAA,cAEtBtG,IAAA,CAAChC,MAAM,EAAC0J,IAAI,cAAE1H,IAAA,CAACb,cAAc,GAAE,CAAE,CAACqI,IAAI,CAAC,OAAO,CAAAlB,QAAA,CAAC,oBAE/C,CAAQ,CAAC,CACH,CAAC,CACR/D,UAAU,eACTrC,KAAA,QAAAoG,QAAA,eACEpG,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,iBAAe,CAAC/D,UAAU,CAAC0G,IAAI,EAAO,CAAC,cAC7CjJ,IAAA,CAAChC,MAAM,EACLyJ,IAAI,CAAC,MAAM,CACXC,IAAI,cAAE1H,IAAA,CAACZ,YAAY,GAAE,CAAE,CACvBuI,OAAO,CAAEA,CAAA,GAAMhG,qBAAqB,CAAC,IAAI,CAAE,CAAA2E,QAAA,CAC5C,aAED,CAAQ,CAAC,EACN,CACN,cACDtG,IAAA,CAAChC,MAAM,EACLyJ,IAAI,CAAC,QAAQ,CACbC,IAAI,cAAE1H,IAAA,CAACT,gBAAgB,GAAE,CAAE,CAC3BoI,OAAO,CAAEA,CAAA,GAAMhG,qBAAqB,CAAC,IAAI,CAAE,CAC3CiH,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAvC,QAAA,CAC1B,mBAED,CAAQ,CAAC,EACJ,CAAC,EACL,CAET,CAAC,CACD,CACEO,KAAK,CAAE,wBAAwB,CAC/B4B,OAAO,cACLvI,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,sBAAoB,CAAO,CAAC,cAC7CtG,IAAA,CAAClC,GAAG,EAACoL,MAAM,CAAE,EAAG,CAAA5C,QAAA,CACbxF,UAAU,CAACqI,GAAG,CAACC,QAAQ,eACtBpJ,IAAA,CAACjC,GAAG,EAACsL,IAAI,CAAE,CAAE,CAAA/C,QAAA,cACXtG,IAAA,CAACnC,IAAI,EACHyL,SAAS,MACTV,KAAK,CAAE,CACLW,MAAM,CAAE,CAAAtH,gBAAgB,SAAhBA,gBAAgB,iBAAhBA,gBAAgB,CAAEzB,EAAE,IAAK4I,QAAQ,CAAC5I,EAAE,CAAG,mBAAmB,CAAG,mBAAmB,CACxFgJ,MAAM,CAAE,SACV,CAAE,CACF7B,OAAO,CAAEA,CAAA,GAAMzF,mBAAmB,CAACkH,QAAQ,CAAE,CAAA9C,QAAA,cAE7CpG,KAAA,QAAK0I,KAAK,CAAE,CAAEa,SAAS,CAAE,QAAS,CAAE,CAAAnD,QAAA,eAClCtG,IAAA,CAACR,eAAe,EAACoJ,KAAK,CAAE,CAAEc,QAAQ,CAAE,EAAE,CAAE3D,KAAK,CAAE,SAAS,CAAE4D,YAAY,CAAE,CAAE,CAAE,CAAE,CAAC,cAC/E3J,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAE8C,QAAQ,CAACH,IAAI,CAAQ,CAAC,cACxCjJ,IAAA,CAACI,IAAI,EAACqH,IAAI,CAAC,WAAW,CAAAnB,QAAA,CAAE8C,QAAQ,CAACQ,aAAa,CAAO,CAAC,cACtD1J,KAAA,QAAK0I,KAAK,CAAE,CAAEiB,SAAS,CAAE,CAAE,CAAE,CAAAvD,QAAA,eAC3BpG,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,SAAO,CAAC8C,QAAQ,CAACU,UAAU,EAAO,CAAC,cAAA9J,IAAA,QAAI,CAAC,cAC9CE,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,cAAY,CAAC8C,QAAQ,CAACW,UAAU,CAAC,IAAE,EAAM,CAAC,cAAA/J,IAAA,QAAI,CAAC,cACrDE,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,YAAU,CAAC8C,QAAQ,CAACY,QAAQ,CAAC,GAAC,EAAM,CAAC,EACxC,CAAC,EACH,CAAC,CACF,CAAC,EAnBUZ,QAAQ,CAAC5I,EAoBvB,CACN,CAAC,CACC,CAAC,EACH,CAET,CAAC,CACD,CACEqG,KAAK,CAAE,8BAA8B,CACrC4B,OAAO,cACLvI,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,uCAAqC,CAAO,CAAC,cAC9DpG,KAAA,CAACpC,GAAG,EAACoL,MAAM,CAAE,EAAG,CAAA5C,QAAA,eACdpG,KAAA,CAACnC,GAAG,EAACsL,IAAI,CAAE,EAAG,CAAA/C,QAAA,eACZtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACxCtG,IAAA,CAAC/B,KAAK,EAAC0K,SAAS,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAvC,QAAA,CAClDtF,cAAc,CAACmI,GAAG,CAACc,EAAE,eACpBjK,IAAA,CAACnC,IAAI,EAEH2J,IAAI,CAAC,OAAO,CACZ8B,SAAS,MACTV,KAAK,CAAE,CACLW,MAAM,CAAE,CAAApH,qBAAqB,SAArBA,qBAAqB,iBAArBA,qBAAqB,CAAE3B,EAAE,IAAKyJ,EAAE,CAACzJ,EAAE,CAAG,mBAAmB,CAAG,mBAAmB,CACvFgJ,MAAM,CAAE,SACV,CAAE,CACF7B,OAAO,CAAEA,CAAA,GAAM,CACbvF,wBAAwB,CAAC6H,EAAE,CAAC,CAC5B3G,wBAAwB,CAAC2G,EAAE,CAACzJ,EAAE,CAAC,CACjC,CAAE,CAAA8F,QAAA,cAEFpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAACP,mBAAmB,GAAE,CAAC,cACvBS,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAE2D,EAAE,CAAChB,IAAI,CAAO,CAAC,cAAAjJ,IAAA,QAAI,CAAC,cAClCE,KAAA,CAACE,IAAI,EAACqH,IAAI,CAAC,WAAW,CAAAnB,QAAA,EAAE2D,EAAE,CAACE,IAAI,CAAC,GAAC,CAACF,EAAE,CAACG,IAAI,EAAO,CAAC,EAC9C,CAAC,EACD,CAAC,EAlBHH,EAAE,CAACzJ,EAmBJ,CACP,CAAC,CACG,CAAC,EACL,CAAC,cACNN,KAAA,CAACnC,GAAG,EAACsL,IAAI,CAAE,EAAG,CAAA/C,QAAA,eACZtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACvCtG,IAAA,CAAC/B,KAAK,EAAC0K,SAAS,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAvC,QAAA,CAClDpF,oBAAoB,CAACiI,GAAG,CAAC9C,MAAM,eAC9BrG,IAAA,CAACnC,IAAI,EAEH2J,IAAI,CAAC,OAAO,CACZ8B,SAAS,MACTV,KAAK,CAAE,CACLW,MAAM,CAAE,CAAAlH,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE7B,EAAE,IAAK6F,MAAM,CAAC7F,EAAE,CAAG,mBAAmB,CAAG,mBAAmB,CACpFgJ,MAAM,CAAE,SACV,CAAE,CACF7B,OAAO,CAAEA,CAAA,GAAMrF,iBAAiB,CAAC+D,MAAM,CAAE,CAAAC,QAAA,cAEzCpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAACN,kBAAkB,GAAE,CAAC,cACtBQ,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAED,MAAM,CAACgE,WAAW,CAAO,CAAC,cAAArK,IAAA,QAAI,CAAC,cAC7CE,KAAA,CAACE,IAAI,EAACqH,IAAI,CAAC,WAAW,CAAAnB,QAAA,EAAC,OAAK,CAACD,MAAM,CAACiE,gBAAgB,CAAC,kBAAgB,CAACjE,MAAM,CAACkE,gBAAgB,CAAC,IAAE,EAAM,CAAC,EACpG,CAAC,EACD,CAAC,EAfHlE,MAAM,CAAC7F,EAgBR,CACP,CAAC,CACG,CAAC,EACL,CAAC,EACH,CAAC,EACH,CAET,CAAC,CACD,CACEqG,KAAK,CAAE,SAAS,CAChB4B,OAAO,cACLvI,KAAA,QAAK0I,KAAK,CAAE,CAAEa,SAAS,CAAE,QAAQ,CAAEe,OAAO,CAAE,QAAS,CAAE,CAAAlE,QAAA,eACrDtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cACzCpG,KAAA,CAACjC,KAAK,EAAC0K,SAAS,CAAC,UAAU,CAACnB,IAAI,CAAC,OAAO,CAAAlB,QAAA,eACtCpG,KAAA,QAAAoG,QAAA,eACEpG,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,YAAU,CAACrE,gBAAgB,SAAhBA,gBAAgB,iBAAhBA,gBAAgB,CAAEgH,IAAI,EAAO,CAAC,cAAAjJ,IAAA,QAAI,CAAC,cACpDE,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,kBAAgB,CAACnE,qBAAqB,SAArBA,qBAAqB,iBAArBA,qBAAqB,CAAE8G,IAAI,EAAO,CAAC,cAAAjJ,IAAA,QAAI,CAAC,cAC/DE,KAAA,CAACE,IAAI,EAAAkG,QAAA,EAAC,iBAAe,CAACjE,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEgI,WAAW,EAAO,CAAC,EACtD,CAAC,cACNrK,IAAA,CAAChC,MAAM,EACLyJ,IAAI,CAAC,SAAS,CACdD,IAAI,CAAC,OAAO,CACZE,IAAI,cAAE1H,IAAA,CAAChB,kBAAkB,GAAE,CAAE,CAC7B2I,OAAO,CAAE9C,qBAAsB,CAAAyB,QAAA,CAChC,cAED,CAAQ,CAAC,EACJ,CAAC,EACL,CAET,CAAC,CACF,CAED,OAAAiC,kBAAA,CAAOC,KAAK,CAAC5G,WAAW,CAAC,UAAA2G,kBAAA,iBAAlBA,kBAAA,CAAoBE,OAAO,CACpC,CAAC,CAED,mBACEvI,KAAA,QAAK0I,KAAK,CAAE,CAAE4B,OAAO,CAAE,MAAO,CAAE,CAAAlE,QAAA,eAE9BtG,IAAA,QAAK4I,KAAK,CAAE,CAAEe,YAAY,CAAE,MAAO,CAAE,CAAArD,QAAA,cACnCpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAAChC,MAAM,EACL0J,IAAI,cAAE1H,IAAA,CAACjB,iBAAiB,GAAE,CAAE,CAC5B4I,OAAO,CAAEA,CAAA,GAAMlH,QAAQ,CAAC,aAAa,CAAE,CAAA6F,QAAA,CACxC,MAED,CAAQ,CAAC,cACTtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAACE,KAAK,CAAE,CAAE6B,MAAM,CAAE,CAAE,CAAE,CAAAnE,QAAA,CAAE5F,QAAQ,CAACuI,IAAI,CAAQ,CAAC,CAC7D1C,kBAAkB,CAAC7F,QAAQ,CAACgK,aAAa,CAAC,EACtC,CAAC,CACL,CAAC,cAGNxK,KAAA,CAACrC,IAAI,EAAC+K,KAAK,CAAE,CAAEe,YAAY,CAAE,MAAO,CAAE,CAAArD,QAAA,eACpCtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,uBAAqB,CAAO,CAAC,cAC9CpG,KAAA,CAACpC,GAAG,EAACoL,MAAM,CAAE,EAAG,CAAA5C,QAAA,eACdtG,IAAA,CAACjC,GAAG,EAACsL,IAAI,CAAE,CAAE,CAAA/C,QAAA,cACXpG,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,EAAG,CAAE,CAAArD,QAAA,eAC/BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,YAAU,CAAM,CAAC,cAAAtG,IAAA,QAAI,CAAC,cACnCA,IAAA,CAACI,IAAI,EAAAkG,QAAA,CAAE5F,QAAQ,CAACuI,IAAI,CAAO,CAAC,EACzB,CAAC,CACH,CAAC,cACNjJ,IAAA,CAACjC,GAAG,EAACsL,IAAI,CAAE,CAAE,CAAA/C,QAAA,cACXpG,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,EAAG,CAAE,CAAArD,QAAA,eAC/BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,cAAY,CAAM,CAAC,cAAAtG,IAAA,QAAI,CAAC,cACrCA,IAAA,CAACI,IAAI,EAAAkG,QAAA,CAAE5F,QAAQ,CAACiK,WAAW,CAAO,CAAC,EAChC,CAAC,CACH,CAAC,cACN3K,IAAA,CAACjC,GAAG,EAACsL,IAAI,CAAE,CAAE,CAAA/C,QAAA,cACXpG,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,EAAG,CAAE,CAAArD,QAAA,eAC/BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,gBAAc,CAAM,CAAC,cAAAtG,IAAA,QAAI,CAAC,CACtCuG,kBAAkB,CAAC7F,QAAQ,CAACgK,aAAa,CAAC,EACxC,CAAC,CACH,CAAC,cACN1K,IAAA,CAACjC,GAAG,EAACsL,IAAI,CAAE,CAAE,CAAA/C,QAAA,cACXpG,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,EAAG,CAAE,CAAArD,QAAA,eAC/BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,aAAW,CAAM,CAAC,cAAAtG,IAAA,QAAI,CAAC,cACpCA,IAAA,CAACI,IAAI,EAAAkG,QAAA,CAAE,GAAI,CAAAjB,IAAI,CAAC3E,QAAQ,CAACkK,UAAU,CAAC,CAACtF,cAAc,CAAC,CAAC,CAAO,CAAC,EAC1D,CAAC,CACH,CAAC,EACH,CAAC,CACL5E,QAAQ,CAACmK,WAAW,eACnB3K,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,cAAY,CAAM,CAAC,cAAAtG,IAAA,QAAI,CAAC,cACrCA,IAAA,CAACI,IAAI,EAAAkG,QAAA,CAAE5F,QAAQ,CAACmK,WAAW,CAAO,CAAC,EAChC,CACN,EACG,CAAC,cAGP3K,KAAA,CAACrC,IAAI,EAAC+K,KAAK,CAAE,CAAEe,YAAY,CAAE,MAAO,CAAE,CAAArD,QAAA,eACpCpG,KAAA,QAAK0I,KAAK,CAAE,CAAEkC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAErB,YAAY,CAAE,MAAO,CAAE,CAAArD,QAAA,eAC3GtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAACE,KAAK,CAAE,CAAE6B,MAAM,CAAE,CAAE,CAAE,CAAAnE,QAAA,CAAC,gBAAc,CAAO,CAAC,cAC7DpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAAChC,MAAM,EACLyJ,IAAI,CAAC,SAAS,CACdC,IAAI,cAAE1H,IAAA,CAAChB,kBAAkB,GAAE,CAAE,CAC7B2I,OAAO,CAAEjE,oBAAqB,CAAA4C,QAAA,CAC/B,iBAED,CAAQ,CAAC,cACTtG,IAAA,CAAChC,MAAM,EACL0J,IAAI,cAAE1H,IAAA,CAACd,cAAc,GAAE,CAAE,CACzByI,OAAO,CAAEhF,aAAc,CAAA2D,QAAA,CACxB,SAED,CAAQ,CAAC,EACJ,CAAC,EACL,CAAC,CAGL5F,QAAQ,CAACuK,SAAS,EAAIvK,QAAQ,CAACuK,SAAS,CAACC,MAAM,CAAG,CAAC,cAClDlL,IAAA,CAAClC,GAAG,EAACoL,MAAM,CAAE,EAAG,CAAA5C,QAAA,CACb5F,QAAQ,CAACuK,SAAS,CAAC9B,GAAG,CAAC,CAACvF,QAAQ,CAAEuH,KAAK,gBACtCnL,IAAA,CAACjC,GAAG,EAACsL,IAAI,CAAE,CAAE,CAAA/C,QAAA,cACXpG,KAAA,CAACrC,IAAI,EACHgJ,KAAK,aAAAzB,MAAA,CAAc+F,KAAK,CAAG,CAAC,CAAG,CAC/BC,KAAK,cACHlL,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAACnB,OAAO,EAACgI,KAAK,CAAC,gBAAgB,CAAAP,QAAA,cAC7BtG,IAAA,CAAChC,MAAM,EACLwJ,IAAI,CAAC,OAAO,CACZE,IAAI,cAAE1H,IAAA,CAACX,YAAY,GAAE,CAAE,CACvBsI,OAAO,CAAEA,CAAA,GAAMhE,mBAAmB,CAACC,QAAQ,CAAE,CAC9C,CAAC,CACK,CAAC,cACV5D,IAAA,CAACnB,OAAO,EAACgI,KAAK,CAAC,eAAe,CAAAP,QAAA,cAC5BtG,IAAA,CAAChC,MAAM,EACLwJ,IAAI,CAAC,OAAO,CACZE,IAAI,cAAE1H,IAAA,CAACZ,YAAY,GAAE,CAAE,CACxB,CAAC,CACK,CAAC,cACVY,IAAA,CAAClB,UAAU,EAAC+H,KAAK,CAAC,uCAAuC,CAAAP,QAAA,cACvDtG,IAAA,CAAChC,MAAM,EACLwJ,IAAI,CAAC,OAAO,CACZO,MAAM,MACNL,IAAI,cAAE1H,IAAA,CAACV,cAAc,GAAE,CAAE,CAC1B,CAAC,CACQ,CAAC,EACR,CACR,CAAAgH,QAAA,eAEDpG,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,CAAE,CAAE,CAAArD,QAAA,eAC9BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,YAAU,CAAM,CAAC,IAAC,CAAC1C,QAAQ,CAACyH,cAAc,EACpD,CAAC,cACNnL,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,CAAE,CAAE,CAAArD,QAAA,eAC9BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,MAAI,CAAM,CAAC,IAAC,CAAC1C,QAAQ,CAAC0H,aAAa,EAC7C,CAAC,cACNpL,KAAA,QAAK0I,KAAK,CAAE,CAAEe,YAAY,CAAE,CAAE,CAAE,CAAArD,QAAA,eAC9BtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,SAAO,CAAM,CAAC,IAAC,CAAC1C,QAAQ,CAAC2H,MAAM,EACzC,CAAC,cACNrL,KAAA,QAAAoG,QAAA,eACEtG,IAAA,CAACI,IAAI,EAAC8J,MAAM,MAAA5D,QAAA,CAAC,SAAO,CAAM,CAAC,IAAC,CAAC1C,QAAQ,CAAC4H,MAAM,EACzC,CAAC,EACF,CAAC,EAxCU5H,QAAQ,CAACpD,EAyCvB,CACN,CAAC,CACC,CAAC,cAENN,KAAA,QAAK0I,KAAK,CAAE,CAAEa,SAAS,CAAE,QAAQ,CAAEe,OAAO,CAAE,QAAQ,CAAEzE,KAAK,CAAE,MAAO,CAAE,CAAAO,QAAA,eACpEtG,IAAA,CAACT,gBAAgB,EAACqJ,KAAK,CAAE,CAAEc,QAAQ,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAE,CAAE,CAAC,cAC/D3J,IAAA,QAAAsG,QAAA,CAAK,0BAAwB,CAAK,CAAC,cACnCtG,IAAA,QAAK4I,KAAK,CAAE,CAAEiB,SAAS,CAAE,CAAE,CAAE,CAAAvD,QAAA,cAC3BtG,IAAA,CAAChC,MAAM,EAACyJ,IAAI,CAAC,SAAS,CAACE,OAAO,CAAEjE,oBAAqB,CAAA4C,QAAA,CAAC,4BAEtD,CAAQ,CAAC,CACN,CAAC,EACH,CACN,EACG,CAAC,cAGPpG,KAAA,CAACrC,IAAI,EAAAyI,QAAA,eACHtG,IAAA,CAACG,KAAK,EAACuI,KAAK,CAAE,CAAE,CAAApC,QAAA,CAAC,mBAAiB,CAAO,CAAC,cAC1CtG,IAAA,CAAC7B,KAAK,EACJsN,OAAO,CAAE7E,gBAAiB,CAC1B8E,UAAU,CAAE9K,UAAW,CACvB+K,MAAM,CAAC,IAAI,CACXC,UAAU,CAAE,CACVC,eAAe,CAAE,IAAI,CACrBC,eAAe,CAAE,IAAI,CACrBC,SAAS,CAAGC,KAAK,WAAA5G,MAAA,CAAc4G,KAAK,YACtC,CAAE,CACH,CAAC,EACE,CAAC,cAGP9L,KAAA,CAAC7B,KAAK,EACJwI,KAAK,CAAC,sBAAsB,CAC5BoF,IAAI,CAAE3K,oBAAqB,CAC3B4K,QAAQ,CAAEA,CAAA,GAAM,CACd3K,uBAAuB,CAAC,KAAK,CAAC,CAC9BM,cAAc,CAAC,CAAC,CAAC,CACjBK,mBAAmB,CAAC,IAAI,CAAC,CACzBE,wBAAwB,CAAC,IAAI,CAAC,CAC9BE,iBAAiB,CAAC,IAAI,CAAC,CACvBE,aAAa,CAAC,IAAI,CAAC,CACrB,CAAE,CACF2J,MAAM,CAAE,IAAK,CACbtD,KAAK,CAAE,GAAI,CACXD,KAAK,CAAE,CAAEwD,GAAG,CAAE,EAAG,CAAE,CAAA9F,QAAA,eAEnBpG,KAAA,CAACvB,KAAK,EAAC0N,OAAO,CAAEzK,WAAY,CAACgH,KAAK,CAAE,CAAEe,YAAY,CAAE,EAAG,CAAE,CAAArD,QAAA,eACvDtG,IAAA,CAACK,IAAI,EAACwG,KAAK,CAAC,eAAe,CAAE,CAAC,cAC9B7G,IAAA,CAACK,IAAI,EAACwG,KAAK,CAAC,iBAAiB,CAAE,CAAC,cAChC7G,IAAA,CAACK,IAAI,EAACwG,KAAK,CAAC,gBAAgB,CAAE,CAAC,cAC/B7G,IAAA,CAACK,IAAI,EAACwG,KAAK,CAAC,SAAS,CAAE,CAAC,EACnB,CAAC,cAER7G,IAAA,QAAK4I,KAAK,CAAE,CAAE0D,SAAS,CAAE,GAAI,CAAE,CAAAhG,QAAA,CAC5BgC,mBAAmB,CAAC,CAAC,CACnB,CAAC,cAENtI,IAAA,QAAK4I,KAAK,CAAE,CAAEa,SAAS,CAAE,OAAO,CAAEI,SAAS,CAAE,EAAE,CAAE0C,SAAS,CAAE,mBAAmB,CAAEC,UAAU,CAAE,EAAG,CAAE,CAAAlG,QAAA,cAChGpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,EACH1E,WAAW,CAAG,CAAC,eACd5B,IAAA,CAAChC,MAAM,EAAC2J,OAAO,CAAE/C,cAAe,CAAA0B,QAAA,CAAC,UAEjC,CAAQ,CACT,CACA1E,WAAW,CAAG,CAAC,eACd5B,IAAA,CAAChC,MAAM,EACLyJ,IAAI,CAAC,SAAS,CACdE,OAAO,CAAEhD,cAAe,CACxB8H,QAAQ,CACL7K,WAAW,GAAK,CAAC,EAAI,CAACW,UAAU,EAAI,CAACE,aAAa,EAClDb,WAAW,GAAK,CAAC,EAAI,CAACK,gBAAiB,EACvCL,WAAW,GAAK,CAAC,GAAK,CAACO,qBAAqB,EAAI,CAACE,cAAc,CACjE,CAAAiE,QAAA,CACF,MAED,CAAQ,CACT,CACA1E,WAAW,GAAK,CAAC,eAChB5B,IAAA,CAAChC,MAAM,EACLyJ,IAAI,CAAC,SAAS,CACdE,OAAO,CAAE9C,qBAAsB,CAC/B4H,QAAQ,CAAE,CAACxK,gBAAgB,EAAI,CAACE,qBAAqB,EAAI,CAACE,cAAe,CAAAiE,QAAA,CAC1E,cAED,CAAQ,CACT,EACI,CAAC,CACL,CAAC,EACD,CAAC,cAGRpG,KAAA,CAAC7B,KAAK,EACJwI,KAAK,CAAC,eAAe,CACrBoF,IAAI,CAAEvK,kBAAmB,CACzBwK,QAAQ,CAAEA,CAAA,GAAMvK,qBAAqB,CAAC,KAAK,CAAE,CAC7CwK,MAAM,CAAE,IAAK,CACbtD,KAAK,CAAE,IAAK,CACZD,KAAK,CAAE,CAAEwD,GAAG,CAAE,EAAG,CAAE,CAAA9F,QAAA,eAEnBtG,IAAA,QAAK4I,KAAK,CAAE,CAAEe,YAAY,CAAE,EAAG,CAAE,CAAArD,QAAA,cAC/BtG,IAAA,CAACI,IAAI,EAAAkG,QAAA,CAAC,gCAA8B,CAAM,CAAC,CACxC,CAAC,cACNtG,IAAA,CAACzB,KAAK,CAACmO,QAAQ,EACbC,KAAK,CAAElK,aAAc,CACrBmK,QAAQ,CAAGxI,CAAC,EAAK1B,gBAAgB,CAAC0B,CAAC,CAACE,MAAM,CAACqI,KAAK,CAAE,CAClDE,WAAW,CAAC,kCAAkC,CAC9CC,IAAI,CAAE,EAAG,CACTlE,KAAK,CAAE,CAAEmE,UAAU,CAAE,WAAY,CAAE,CACpC,CAAC,cACF/M,IAAA,QAAK4I,KAAK,CAAE,CAAEa,SAAS,CAAE,OAAO,CAAEI,SAAS,CAAE,EAAG,CAAE,CAAAvD,QAAA,cAChDpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAAChC,MAAM,EAAC2J,OAAO,CAAEA,CAAA,GAAMhG,qBAAqB,CAAC,KAAK,CAAE,CAAA2E,QAAA,CAAC,QAErD,CAAQ,CAAC,cACTtG,IAAA,CAAChC,MAAM,EAACyJ,IAAI,CAAC,SAAS,CAACE,OAAO,CAAElD,gBAAiB,CAAA6B,QAAA,CAAC,aAElD,CAAQ,CAAC,EACJ,CAAC,CACL,CAAC,EACD,CAAC,cAGRtG,IAAA,CAAC3B,KAAK,EACJwI,KAAK,CAAC,uBAAuB,CAC7BoF,IAAI,CAAEzK,qBAAsB,CAC5B0K,QAAQ,CAAEA,CAAA,GAAMzK,wBAAwB,CAAC,KAAK,CAAE,CAChD0K,MAAM,CAAE,IAAK,CACbtD,KAAK,CAAE,GAAI,CAAAvC,QAAA,cAEXpG,KAAA,CAAC5B,IAAI,EACH0O,MAAM,CAAC,UAAU,CACjBC,QAAQ,CAAExH,qBAAsB,CAAAa,QAAA,eAEhCtG,IAAA,CAAC1B,IAAI,CAAC4O,IAAI,EACRjE,IAAI,CAAC,aAAa,CAClBkE,KAAK,CAAC,eAAe,CACrBC,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAI,CAAEjP,OAAO,CAAE,6BAA8B,CAAC,CAAE,CAAAkI,QAAA,cAEpEtG,IAAA,CAACxB,MAAM,EAACqO,WAAW,CAAC,sBAAsB,CAAAvG,QAAA,CACvCxF,UAAU,CAACqI,GAAG,CAACC,QAAQ,eACtBlJ,KAAA,CAAC1B,MAAM,CAAC8O,MAAM,EAAmBX,KAAK,CAAEvD,QAAQ,CAAC5I,EAAG,CAAA8F,QAAA,EACjD8C,QAAQ,CAACH,IAAI,CAAC,IAAE,CAACG,QAAQ,CAACQ,aAAa,CAAC,GAC3C,GAFoBR,QAAQ,CAAC5I,EAEd,CAChB,CAAC,CACI,CAAC,CACA,CAAC,cAEZR,IAAA,CAAC1B,IAAI,CAAC4O,IAAI,EACRjE,IAAI,CAAC,mBAAmB,CACxBkE,KAAK,CAAC,gBAAgB,CACtBC,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAI,CAAEjP,OAAO,CAAE,8BAA+B,CAAC,CAAE,CAAAkI,QAAA,cAErEtG,IAAA,CAACxB,MAAM,EACLqO,WAAW,CAAC,uBAAuB,CACnCD,QAAQ,CAAGD,KAAK,EAAKrJ,wBAAwB,CAACqJ,KAAK,CAAE,CAAArG,QAAA,CAEpDtF,cAAc,CAACmI,GAAG,CAACc,EAAE,eACpB/J,KAAA,CAAC1B,MAAM,CAAC8O,MAAM,EAAaX,KAAK,CAAE1C,EAAE,CAACzJ,EAAG,CAAA8F,QAAA,EACrC2D,EAAE,CAAChB,IAAI,CAAC,IAAE,CAACgB,EAAE,CAACE,IAAI,CAAC,GACtB,GAFoBF,EAAE,CAACzJ,EAER,CAChB,CAAC,CACI,CAAC,CACA,CAAC,cAEZR,IAAA,CAAC1B,IAAI,CAAC4O,IAAI,EACRjE,IAAI,CAAC,0BAA0B,CAC/BkE,KAAK,CAAC,uBAAuB,CAC7BC,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAI,CAAEjP,OAAO,CAAE,qCAAsC,CAAC,CAAE,CAAAkI,QAAA,cAE5EtG,IAAA,CAACxB,MAAM,EAACqO,WAAW,CAAC,8BAA8B,CAAAvG,QAAA,CAC/CpF,oBAAoB,CAACiI,GAAG,CAAC9C,MAAM,eAC9BrG,IAAA,CAACxB,MAAM,CAAC8O,MAAM,EAAiBX,KAAK,CAAEtG,MAAM,CAAC7F,EAAG,CAAA8F,QAAA,CAC7CD,MAAM,CAACgE,WAAW,EADDhE,MAAM,CAAC7F,EAEZ,CAChB,CAAC,CACI,CAAC,CACA,CAAC,cAEZR,IAAA,CAAC1B,IAAI,CAAC4O,IAAI,EACRjE,IAAI,CAAC,gBAAgB,CACrBkE,KAAK,CAAC,gBAAgB,CAAA7G,QAAA,cAEtBtG,IAAA,CAACzB,KAAK,EAACsO,WAAW,CAAC,iCAAiC,CAAE,CAAC,CAC9C,CAAC,cAEZ7M,IAAA,CAAC1B,IAAI,CAAC4O,IAAI,EAAA5G,QAAA,cACRpG,KAAA,CAACjC,KAAK,EAAAqI,QAAA,eACJtG,IAAA,CAAChC,MAAM,EAACyJ,IAAI,CAAC,SAAS,CAAC8F,QAAQ,CAAC,QAAQ,CAAAjH,QAAA,CAAC,kBAEzC,CAAQ,CAAC,cACTtG,IAAA,CAAChC,MAAM,EAAC2J,OAAO,CAAEA,CAAA,GAAMlG,wBAAwB,CAAC,KAAK,CAAE,CAAA6E,QAAA,CAAC,QAExD,CAAQ,CAAC,EACJ,CAAC,CACC,CAAC,EACR,CAAC,CACF,CAAC,EACL,CAAC,CAEV,CAAC,CAED;AACA,2BAAe9I,KAAK,CAACgQ,IAAI,CAACjN,cAAc,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}